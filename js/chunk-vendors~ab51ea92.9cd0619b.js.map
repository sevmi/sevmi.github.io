{"version":3,"sources":["webpack:///./node_modules/parse/lib/browser/StorageController.browser.js","webpack:///./node_modules/parse/lib/browser/TaskQueue.js","webpack:///./node_modules/parse/lib/browser/RESTController.js","webpack:///./node_modules/parse/lib/browser/SingleInstanceStateController.js","webpack:///./node_modules/parse/lib/browser/Storage.js"],"names":["StorageController","async","getItem","path","localStorage","setItem","value","e","console","log","message","removeItem","getAllKeys","keys","i","length","push","key","clear","module","exports","_interopRequireDefault","_promise","_classCallCheck2","_createClass2","_defineProperty2","TaskQueue","default","this","queue","task","res","rej","_this","taskComplete","resolve","reject","_completion","then","_dequeue","error","_this2","shift","next","_defineProperties","_getOwnPropertyDescriptors","_forEach","_getOwnPropertyDescriptor","_filter","_getOwnPropertySymbols","_keys","_defineProperty3","_typeof2","_setTimeout2","_includes","_stringify","_CoreManager","_ParseError","ownKeys","object","enumerableOnly","symbols","call","sym","enumerable","apply","_objectSpread","target","arguments","_context2","source","Object","_context3","XHR","XMLHttpRequest","useXDomainRequest","ajaxIE9","method","url","data","headers","options","xdr","XDomainRequest","onload","response","JSON","parse","responseText","onerror","ontimeout","fakeResponse","code","X_DOMAIN_REQUEST","onprogress","progress","open","send","requestTask","RESTController","ajax","promise","attempts","dispatch","Error","handled","xhr","onreadystatechange","readyState","_aborted","status","_context","getResponseHeader","getAllResponseHeaders","toString","get","delay","Math","round","random","pow","process","versions","node","customHeaders","h","event","lengthComputable","loaded","total","setRequestHeader","onabort","results","request","payload","k","_method","_ApplicationId","jsKey","_JavaScriptKey","_ClientVersion","useMasterKey","_MasterKey","_RevocableSession","installationIdPromise","installationId","installationController","getInstallationController","currentInstallationId","iid","_InstallationId","userController","getUserController","sessionToken","currentUserAsync","user","getSessionToken","token","_SessionToken","payloadString","_ref","returnStatus","_status","catch","errorJSON","INVALID_JSON","CONNECTION_FAILED","_setXHR","_interopRequireWildcard","_Object$defineProperty","getState","initializeState","removeState","getServerData","setServerData","getPendingOps","setPendingOp","pushPendingState","popPendingState","mergeFirstPendingState","getObjectCache","estimateAttribute","estimateAttributes","commitServerChanges","enqueueTask","clearAllState","duplicateState","ObjectStateMutations","objectState","obj","classData","className","id","initial","state","defaultState","serverData","attributes","pendingOps","attr","op","objectCache","changes","tasks","enqueue","dest","Storage","controller","getStorageController","getItemAsync","setItemAsync","removeItemAsync","getAllKeysAsync","generatePath","substr","_clear","hasOwnProperty","setStorageController"],"mappings":"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","file":"js/chunk-vendors~ab51ea92.9cd0619b.js","sourcesContent":["\"use strict\";\n/**\n * Copyright (c) 2015-present, Parse, LLC.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @flow\n */\n\n/* global localStorage */\n\nvar StorageController = {\n  async: 0,\n  getItem: function (path\n  /*: string*/\n  )\n  /*: ?string*/\n  {\n    return localStorage.getItem(path);\n  },\n  setItem: function (path\n  /*: string*/\n  , value\n  /*: string*/\n  ) {\n    try {\n      localStorage.setItem(path, value);\n    } catch (e) {\n      // Quota exceeded, possibly due to Safari Private Browsing mode\n      console.log(e.message);\n    }\n  },\n  removeItem: function (path\n  /*: string*/\n  ) {\n    localStorage.removeItem(path);\n  },\n  getAllKeys: function () {\n    var keys = [];\n\n    for (var i = 0; i < localStorage.length; i += 1) {\n      keys.push(localStorage.key(i));\n    }\n\n    return keys;\n  },\n  clear: function () {\n    localStorage.clear();\n  }\n};\nmodule.exports = StorageController;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\nvar _promise = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/promise\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/createClass\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/defineProperty\"));\n/**\n * Copyright (c) 2015-present, Parse, LLC.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @flow\n */\n\n/*:: type Task = {\n  task: () => Promise;\n  _completion: Promise\n};*/\n\n\nvar TaskQueue =\n/*#__PURE__*/\nfunction () {\n  function TaskQueue() {\n    (0, _classCallCheck2.default)(this, TaskQueue);\n    (0, _defineProperty2.default)(this, \"queue\", void 0);\n    this.queue = [];\n  }\n\n  (0, _createClass2.default)(TaskQueue, [{\n    key: \"enqueue\",\n    value: function (task\n    /*: () => Promise*/\n    )\n    /*: Promise*/\n    {\n      var _this = this;\n\n      var res;\n      var rej;\n      var taskComplete = new _promise.default(function (resolve, reject) {\n        res = resolve;\n        rej = reject;\n      });\n      taskComplete.resolve = res;\n      taskComplete.reject = rej;\n      this.queue.push({\n        task: task,\n        _completion: taskComplete\n      });\n\n      if (this.queue.length === 1) {\n        task().then(function () {\n          _this._dequeue();\n\n          taskComplete.resolve();\n        }, function (error) {\n          _this._dequeue();\n\n          taskComplete.reject(error);\n        });\n      }\n\n      return taskComplete;\n    }\n  }, {\n    key: \"_dequeue\",\n    value: function () {\n      var _this2 = this;\n\n      this.queue.shift();\n\n      if (this.queue.length) {\n        var next = this.queue[0];\n        next.task().then(function () {\n          _this2._dequeue();\n\n          next._completion.resolve();\n        }, function (error) {\n          _this2._dequeue();\n\n          next._completion.reject(error);\n        });\n      }\n    }\n  }]);\n  return TaskQueue;\n}();\n\nmodule.exports = TaskQueue;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/define-property\"));\n\nvar _defineProperties = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/define-properties\"));\n\nvar _getOwnPropertyDescriptors = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors\"));\n\nvar _forEach = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/for-each\"));\n\nvar _getOwnPropertyDescriptor = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor\"));\n\nvar _filter = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/filter\"));\n\nvar _getOwnPropertySymbols = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols\"));\n\nvar _keys = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/keys\"));\n\nvar _defineProperty3 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/defineProperty\"));\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/typeof\"));\n\nvar _setTimeout2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/set-timeout\"));\n\nvar _includes = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/includes\"));\n\nvar _stringify = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/json/stringify\"));\n\nvar _promise = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/promise\"));\n\nvar _CoreManager = _interopRequireDefault(require(\"./CoreManager\"));\n\nvar _ParseError = _interopRequireDefault(require(\"./ParseError\"));\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = (0, _keys.default)(object);\n\n  if (_getOwnPropertySymbols.default) {\n    var symbols = (0, _getOwnPropertySymbols.default)(object);\n    if (enumerableOnly) symbols = (0, _filter.default)(symbols).call(symbols, function (sym) {\n      return (0, _getOwnPropertyDescriptor.default)(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      var _context2;\n\n      (0, _forEach.default)(_context2 = ownKeys(Object(source), true)).call(_context2, function (key) {\n        (0, _defineProperty3.default)(target, key, source[key]);\n      });\n    } else if (_getOwnPropertyDescriptors.default) {\n      (0, _defineProperties.default)(target, (0, _getOwnPropertyDescriptors.default)(source));\n    } else {\n      var _context3;\n\n      (0, _forEach.default)(_context3 = ownKeys(Object(source))).call(_context3, function (key) {\n        (0, _defineProperty2.default)(target, key, (0, _getOwnPropertyDescriptor.default)(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nvar XHR = null;\n\nif (typeof XMLHttpRequest !== 'undefined') {\n  XHR = XMLHttpRequest;\n}\n\nvar useXDomainRequest = false;\n\nif (typeof XDomainRequest !== 'undefined' && !('withCredentials' in new XMLHttpRequest())) {\n  useXDomainRequest = true;\n}\n\nfunction ajaxIE9(method\n/*: string*/\n, url\n/*: string*/\n, data\n/*: any*/\n, headers\n/*:: ?: any*/\n, options\n/*:: ?: FullOptions*/\n) {\n  return new _promise.default(function (resolve, reject) {\n    var xdr = new XDomainRequest();\n\n    xdr.onload = function () {\n      var response;\n\n      try {\n        response = JSON.parse(xdr.responseText);\n      } catch (e) {\n        reject(e);\n      }\n\n      if (response) {\n        resolve({\n          response: response\n        });\n      }\n    };\n\n    xdr.onerror = xdr.ontimeout = function () {\n      // Let's fake a real error message.\n      var fakeResponse = {\n        responseText: (0, _stringify.default)({\n          code: _ParseError.default.X_DOMAIN_REQUEST,\n          error: 'IE\\'s XDomainRequest does not supply error info.'\n        })\n      };\n      reject(fakeResponse);\n    };\n\n    xdr.onprogress = function () {\n      if (options && typeof options.progress === 'function') {\n        options.progress(xdr.responseText);\n      }\n    };\n\n    xdr.open(method, url);\n    xdr.send(data);\n\n    if (options && typeof options.requestTask === 'function') {\n      options.requestTask(xdr);\n    }\n  });\n}\n\nvar RESTController = {\n  ajax: function (method\n  /*: string*/\n  , url\n  /*: string*/\n  , data\n  /*: any*/\n  , headers\n  /*:: ?: any*/\n  , options\n  /*:: ?: FullOptions*/\n  ) {\n    if (useXDomainRequest) {\n      return ajaxIE9(method, url, data, headers, options);\n    }\n\n    var res, rej;\n    var promise = new _promise.default(function (resolve, reject) {\n      res = resolve;\n      rej = reject;\n    });\n    promise.resolve = res;\n    promise.reject = rej;\n    var attempts = 0;\n\n    var dispatch = function dispatch() {\n      if (XHR == null) {\n        throw new Error('Cannot make a request: No definition of XMLHttpRequest was found.');\n      }\n\n      var handled = false;\n      var xhr = new XHR();\n\n      xhr.onreadystatechange = function () {\n        if (xhr.readyState !== 4 || handled || xhr._aborted) {\n          return;\n        }\n\n        handled = true;\n\n        if (xhr.status >= 200 && xhr.status < 300) {\n          var response;\n\n          try {\n            response = JSON.parse(xhr.responseText);\n\n            if (typeof xhr.getResponseHeader === 'function') {\n              var _context;\n\n              if ((0, _includes.default)(_context = xhr.getAllResponseHeaders() || '').call(_context, 'x-parse-job-status-id: ')) {\n                response = xhr.getResponseHeader('x-parse-job-status-id');\n              }\n            }\n          } catch (e) {\n            promise.reject(e.toString());\n          }\n\n          if (response) {\n            promise.resolve({\n              response: response,\n              status: xhr.status,\n              xhr: xhr\n            });\n          }\n        } else if (xhr.status >= 500 || xhr.status === 0) {\n          // retry on 5XX or node-xmlhttprequest error\n          if (++attempts < _CoreManager.default.get('REQUEST_ATTEMPT_LIMIT')) {\n            // Exponentially-growing random delay\n            var delay = Math.round(Math.random() * 125 * Math.pow(2, attempts));\n            (0, _setTimeout2.default)(dispatch, delay);\n          } else if (xhr.status === 0) {\n            promise.reject('Unable to connect to the Parse API');\n          } else {\n            // After the retry limit is reached, fail\n            promise.reject(xhr);\n          }\n        } else {\n          promise.reject(xhr);\n        }\n      };\n\n      headers = headers || {};\n\n      if (typeof headers['Content-Type'] !== 'string') {\n        headers['Content-Type'] = 'text/plain'; // Avoid pre-flight\n      }\n\n      if (_CoreManager.default.get('IS_NODE')) {\n        headers['User-Agent'] = 'Parse/' + _CoreManager.default.get('VERSION') + ' (NodeJS ' + process.versions.node + ')';\n      }\n\n      if (_CoreManager.default.get('SERVER_AUTH_TYPE') && _CoreManager.default.get('SERVER_AUTH_TOKEN')) {\n        headers['Authorization'] = _CoreManager.default.get('SERVER_AUTH_TYPE') + ' ' + _CoreManager.default.get('SERVER_AUTH_TOKEN');\n      }\n\n      var customHeaders = _CoreManager.default.get('REQUEST_HEADERS');\n\n      for (var key in customHeaders) {\n        headers[key] = customHeaders[key];\n      }\n\n      xhr.onprogress = function (event) {\n        if (options && typeof options.progress === 'function') {\n          if (event.lengthComputable) {\n            options.progress(event.loaded / event.total, event.loaded, event.total);\n          } else {\n            options.progress(null);\n          }\n        }\n      };\n\n      xhr.open(method, url, true);\n\n      for (var h in headers) {\n        xhr.setRequestHeader(h, headers[h]);\n      }\n\n      xhr.onabort = function () {\n        promise.resolve({\n          response: {\n            results: []\n          },\n          status: 0,\n          xhr: xhr\n        });\n      };\n\n      xhr.send(data);\n\n      if (options && typeof options.requestTask === 'function') {\n        options.requestTask(xhr);\n      }\n    };\n\n    dispatch();\n    return promise;\n  },\n  request: function (method\n  /*: string*/\n  , path\n  /*: string*/\n  , data\n  /*: mixed*/\n  , options\n  /*:: ?: RequestOptions*/\n  ) {\n    options = options || {};\n\n    var url = _CoreManager.default.get('SERVER_URL');\n\n    if (url[url.length - 1] !== '/') {\n      url += '/';\n    }\n\n    url += path;\n    var payload = {};\n\n    if (data && (0, _typeof2.default)(data) === 'object') {\n      for (var k in data) {\n        payload[k] = data[k];\n      }\n    }\n\n    if (method !== 'POST') {\n      payload._method = method;\n      method = 'POST';\n    }\n\n    payload._ApplicationId = _CoreManager.default.get('APPLICATION_ID');\n\n    var jsKey = _CoreManager.default.get('JAVASCRIPT_KEY');\n\n    if (jsKey) {\n      payload._JavaScriptKey = jsKey;\n    }\n\n    payload._ClientVersion = _CoreManager.default.get('VERSION');\n    var useMasterKey = options.useMasterKey;\n\n    if (typeof useMasterKey === 'undefined') {\n      useMasterKey = _CoreManager.default.get('USE_MASTER_KEY');\n    }\n\n    if (useMasterKey) {\n      if (_CoreManager.default.get('MASTER_KEY')) {\n        delete payload._JavaScriptKey;\n        payload._MasterKey = _CoreManager.default.get('MASTER_KEY');\n      } else {\n        throw new Error('Cannot use the Master Key, it has not been provided.');\n      }\n    }\n\n    if (_CoreManager.default.get('FORCE_REVOCABLE_SESSION')) {\n      payload._RevocableSession = '1';\n    }\n\n    var installationId = options.installationId;\n    var installationIdPromise;\n\n    if (installationId && typeof installationId === 'string') {\n      installationIdPromise = _promise.default.resolve(installationId);\n    } else {\n      var installationController = _CoreManager.default.getInstallationController();\n\n      installationIdPromise = installationController.currentInstallationId();\n    }\n\n    return installationIdPromise.then(function (iid) {\n      payload._InstallationId = iid;\n\n      var userController = _CoreManager.default.getUserController();\n\n      if (options && typeof options.sessionToken === 'string') {\n        return _promise.default.resolve(options.sessionToken);\n      } else if (userController) {\n        return userController.currentUserAsync().then(function (user) {\n          if (user) {\n            return _promise.default.resolve(user.getSessionToken());\n          }\n\n          return _promise.default.resolve(null);\n        });\n      }\n\n      return _promise.default.resolve(null);\n    }).then(function (token) {\n      if (token) {\n        payload._SessionToken = token;\n      }\n\n      var payloadString = (0, _stringify.default)(payload);\n      return RESTController.ajax(method, url, payloadString, {}, options).then(function (_ref) {\n        var response = _ref.response,\n            status = _ref.status;\n\n        if (options.returnStatus) {\n          return _objectSpread({}, response, {\n            _status: status\n          });\n        } else {\n          return response;\n        }\n      });\n    }).catch(function (response\n    /*: { responseText: string }*/\n    ) {\n      // Transform the error into an instance of ParseError by trying to parse\n      // the error string as JSON\n      var error;\n\n      if (response && response.responseText) {\n        try {\n          var errorJSON = JSON.parse(response.responseText);\n          error = new _ParseError.default(errorJSON.code, errorJSON.error);\n        } catch (e) {\n          // If we fail to parse the error text, that's okay.\n          error = new _ParseError.default(_ParseError.default.INVALID_JSON, 'Received an error with invalid JSON from Parse: ' + response.responseText);\n        }\n      } else {\n        error = new _ParseError.default(_ParseError.default.CONNECTION_FAILED, 'XMLHttpRequest failed: ' + (0, _stringify.default)(response));\n      }\n\n      return _promise.default.reject(error);\n    });\n  },\n  _setXHR: function (xhr\n  /*: any*/\n  ) {\n    XHR = xhr;\n  }\n};\nmodule.exports = RESTController;","\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime-corejs3/helpers/interopRequireWildcard\");\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs3/core-js-stable/object/define-property\");\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.getState = getState;\nexports.initializeState = initializeState;\nexports.removeState = removeState;\nexports.getServerData = getServerData;\nexports.setServerData = setServerData;\nexports.getPendingOps = getPendingOps;\nexports.setPendingOp = setPendingOp;\nexports.pushPendingState = pushPendingState;\nexports.popPendingState = popPendingState;\nexports.mergeFirstPendingState = mergeFirstPendingState;\nexports.getObjectCache = getObjectCache;\nexports.estimateAttribute = estimateAttribute;\nexports.estimateAttributes = estimateAttributes;\nexports.commitServerChanges = commitServerChanges;\nexports.enqueueTask = enqueueTask;\nexports.clearAllState = clearAllState;\nexports.duplicateState = duplicateState;\n\nvar ObjectStateMutations = _interopRequireWildcard(require(\"./ObjectStateMutations\"));\n/**\n * Copyright (c) 2015-present, Parse, LLC.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @flow\n */\n\n\nvar objectState\n/*: {\n  [className: string]: {\n    [id: string]: State\n  }\n}*/\n= {};\n\nfunction getState(obj\n/*: ObjectIdentifier*/\n)\n/*: ?State*/\n{\n  var classData = objectState[obj.className];\n\n  if (classData) {\n    return classData[obj.id] || null;\n  }\n\n  return null;\n}\n\nfunction initializeState(obj\n/*: ObjectIdentifier*/\n, initial\n/*:: ?: State*/\n)\n/*: State*/\n{\n  var state = getState(obj);\n\n  if (state) {\n    return state;\n  }\n\n  if (!objectState[obj.className]) {\n    objectState[obj.className] = {};\n  }\n\n  if (!initial) {\n    initial = ObjectStateMutations.defaultState();\n  }\n\n  state = objectState[obj.className][obj.id] = initial;\n  return state;\n}\n\nfunction removeState(obj\n/*: ObjectIdentifier*/\n)\n/*: ?State*/\n{\n  var state = getState(obj);\n\n  if (state === null) {\n    return null;\n  }\n\n  delete objectState[obj.className][obj.id];\n  return state;\n}\n\nfunction getServerData(obj\n/*: ObjectIdentifier*/\n)\n/*: AttributeMap*/\n{\n  var state = getState(obj);\n\n  if (state) {\n    return state.serverData;\n  }\n\n  return {};\n}\n\nfunction setServerData(obj\n/*: ObjectIdentifier*/\n, attributes\n/*: AttributeMap*/\n) {\n  var serverData = initializeState(obj).serverData;\n  ObjectStateMutations.setServerData(serverData, attributes);\n}\n\nfunction getPendingOps(obj\n/*: ObjectIdentifier*/\n)\n/*: Array<OpsMap>*/\n{\n  var state = getState(obj);\n\n  if (state) {\n    return state.pendingOps;\n  }\n\n  return [{}];\n}\n\nfunction setPendingOp(obj\n/*: ObjectIdentifier*/\n, attr\n/*: string*/\n, op\n/*: ?Op*/\n) {\n  var pendingOps = initializeState(obj).pendingOps;\n  ObjectStateMutations.setPendingOp(pendingOps, attr, op);\n}\n\nfunction pushPendingState(obj\n/*: ObjectIdentifier*/\n) {\n  var pendingOps = initializeState(obj).pendingOps;\n  ObjectStateMutations.pushPendingState(pendingOps);\n}\n\nfunction popPendingState(obj\n/*: ObjectIdentifier*/\n)\n/*: OpsMap*/\n{\n  var pendingOps = initializeState(obj).pendingOps;\n  return ObjectStateMutations.popPendingState(pendingOps);\n}\n\nfunction mergeFirstPendingState(obj\n/*: ObjectIdentifier*/\n) {\n  var pendingOps = getPendingOps(obj);\n  ObjectStateMutations.mergeFirstPendingState(pendingOps);\n}\n\nfunction getObjectCache(obj\n/*: ObjectIdentifier*/\n)\n/*: ObjectCache*/\n{\n  var state = getState(obj);\n\n  if (state) {\n    return state.objectCache;\n  }\n\n  return {};\n}\n\nfunction estimateAttribute(obj\n/*: ObjectIdentifier*/\n, attr\n/*: string*/\n)\n/*: mixed*/\n{\n  var serverData = getServerData(obj);\n  var pendingOps = getPendingOps(obj);\n  return ObjectStateMutations.estimateAttribute(serverData, pendingOps, obj.className, obj.id, attr);\n}\n\nfunction estimateAttributes(obj\n/*: ObjectIdentifier*/\n)\n/*: AttributeMap*/\n{\n  var serverData = getServerData(obj);\n  var pendingOps = getPendingOps(obj);\n  return ObjectStateMutations.estimateAttributes(serverData, pendingOps, obj.className, obj.id);\n}\n\nfunction commitServerChanges(obj\n/*: ObjectIdentifier*/\n, changes\n/*: AttributeMap*/\n) {\n  var state = initializeState(obj);\n  ObjectStateMutations.commitServerChanges(state.serverData, state.objectCache, changes);\n}\n\nfunction enqueueTask(obj\n/*: ObjectIdentifier*/\n, task\n/*: () => Promise*/\n)\n/*: Promise*/\n{\n  var state = initializeState(obj);\n  return state.tasks.enqueue(task);\n}\n\nfunction clearAllState() {\n  objectState = {};\n}\n\nfunction duplicateState(source\n/*: {id: string}*/\n, dest\n/*: {id: string}*/\n) {\n  dest.id = source.id;\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\nvar _promise = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/promise\"));\n\nvar _CoreManager = _interopRequireDefault(require(\"./CoreManager\"));\n/**\n * Copyright (c) 2015-present, Parse, LLC.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @flow\n */\n\n\nvar Storage = {\n  async: function ()\n  /*: boolean*/\n  {\n    var controller = _CoreManager.default.getStorageController();\n\n    return !!controller.async;\n  },\n  getItem: function (path\n  /*: string*/\n  )\n  /*: ?string*/\n  {\n    var controller = _CoreManager.default.getStorageController();\n\n    if (controller.async === 1) {\n      throw new Error('Synchronous storage is not supported by the current storage controller');\n    }\n\n    return controller.getItem(path);\n  },\n  getItemAsync: function (path\n  /*: string*/\n  )\n  /*: Promise<string>*/\n  {\n    var controller = _CoreManager.default.getStorageController();\n\n    if (controller.async === 1) {\n      return controller.getItemAsync(path);\n    }\n\n    return _promise.default.resolve(controller.getItem(path));\n  },\n  setItem: function (path\n  /*: string*/\n  , value\n  /*: string*/\n  )\n  /*: void*/\n  {\n    var controller = _CoreManager.default.getStorageController();\n\n    if (controller.async === 1) {\n      throw new Error('Synchronous storage is not supported by the current storage controller');\n    }\n\n    return controller.setItem(path, value);\n  },\n  setItemAsync: function (path\n  /*: string*/\n  , value\n  /*: string*/\n  )\n  /*: Promise<void>*/\n  {\n    var controller = _CoreManager.default.getStorageController();\n\n    if (controller.async === 1) {\n      return controller.setItemAsync(path, value);\n    }\n\n    return _promise.default.resolve(controller.setItem(path, value));\n  },\n  removeItem: function (path\n  /*: string*/\n  )\n  /*: void*/\n  {\n    var controller = _CoreManager.default.getStorageController();\n\n    if (controller.async === 1) {\n      throw new Error('Synchronous storage is not supported by the current storage controller');\n    }\n\n    return controller.removeItem(path);\n  },\n  removeItemAsync: function (path\n  /*: string*/\n  )\n  /*: Promise<void>*/\n  {\n    var controller = _CoreManager.default.getStorageController();\n\n    if (controller.async === 1) {\n      return controller.removeItemAsync(path);\n    }\n\n    return _promise.default.resolve(controller.removeItem(path));\n  },\n  getAllKeys: function ()\n  /*: Array<string>*/\n  {\n    var controller = _CoreManager.default.getStorageController();\n\n    if (controller.async === 1) {\n      throw new Error('Synchronous storage is not supported by the current storage controller');\n    }\n\n    return controller.getAllKeys();\n  },\n  getAllKeysAsync: function ()\n  /*: Promise<Array<string>>*/\n  {\n    var controller = _CoreManager.default.getStorageController();\n\n    if (controller.async === 1) {\n      return controller.getAllKeysAsync();\n    }\n\n    return _promise.default.resolve(controller.getAllKeys());\n  },\n  generatePath: function (path\n  /*: string*/\n  )\n  /*: string*/\n  {\n    if (!_CoreManager.default.get('APPLICATION_ID')) {\n      throw new Error('You need to call Parse.initialize before using Parse.');\n    }\n\n    if (typeof path !== 'string') {\n      throw new Error('Tried to get a Storage path that was not a String.');\n    }\n\n    if (path[0] === '/') {\n      path = path.substr(1);\n    }\n\n    return 'Parse/' + _CoreManager.default.get('APPLICATION_ID') + '/' + path;\n  },\n  _clear: function () {\n    var controller = _CoreManager.default.getStorageController();\n\n    if (controller.hasOwnProperty('clear')) {\n      controller.clear();\n    }\n  }\n};\nmodule.exports = Storage;\n\n_CoreManager.default.setStorageController(require('./StorageController.browser'));"],"sourceRoot":""}