(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0357b31e"],{"09f3":function(e,t,s){},"159b":function(e,t,s){var n=s("da84"),r=s("fdbc"),c=s("17c2"),i=s("9112");for(var o in r){var a=n[o],u=a&&a.prototype;if(u&&u.forEach!==c)try{i(u,"forEach",c)}catch(d){u.forEach=c}}},"17c2":function(e,t,s){"use strict";var n=s("b727").forEach,r=s("a640"),c=s("ae40"),i=r("forEach"),o=c("forEach");e.exports=i&&o?[].forEach:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}},4160:function(e,t,s){"use strict";var n=s("23e7"),r=s("17c2");n({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},"4b66":function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"columns"},[e.schedule&&e.room?s("div",{staticClass:"column col-12 card"},[s("div",{staticClass:"card-header",style:{"background-image":"url("+e.iBgCardO+")"}},[s("div",{staticClass:"card-title h5"},[e._v(e._s(e.schedule.subject.name))]),s("div",{staticClass:"card-subtitle"},[s("i",{staticClass:"icon icon-flag"}),e._v(" "+e._s(e.room.name)+" "),s("i",{staticClass:"icon icon-people ml-10"}),e._v(" "+e._s(e.room.users.length)+" Orang "),e.isMessage?e._e():s("span",{staticClass:"ml-10 c-hand",on:{click:e.clickMessage}},[e._v(" "),s("span",{staticClass:"label badge",attrs:{"data-badge":e.messages.length}},[s("i",{staticClass:"icon icon-message"}),e._v(" Pesan")])]),e.isMessage&&e.isGuru?s("span",{staticClass:"ml-10 c-hand",on:{click:e.clickMessage}},[e._v(" "),e._m(0)]):e._e()])]),e.isGuru?s("Tokenize",{attrs:{tokenRef:e.schedule}}):e._e(),e.loaded&&!e.isMessage?s("div",{staticClass:"card-body"},[e._l(e.room.users,(function(t,n){return[s("TilePresence",{key:n,attrs:{schedule:e.schedule,user:t,index:n,uIndex:e.uIndex},on:{update:e.updateUser}})]}))],2):e._e(),e.loaded&&e.isMessage?s("div",{staticClass:"card-body"},[s("Message",{attrs:{messages:e.messages,messageKey:e.schedule.objectId}})],1):e._e()],1):e._e()])},r=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"label"},[s("i",{staticClass:"icon icon-check"}),e._v(" Presensi")])}],c=(s("7db0"),s("d3b7"),s("5530")),i=s("67ff"),o=s.n(i),a=s("3fd0"),u=function(){return s.e("chunk-2d2105c2").then(s.bind(null,"b80f"))},d=function(){return s.e("chunk-2d22e138").then(s.bind(null,"f9e4"))},f=function(){return s.e("chunk-6b4ad094").then(s.bind(null,"0f7d"))},l={name:"PresencePage",components:{Tokenize:u,TilePresence:d,Message:f},data:function(){return{isPresence:!1,iBgCardO:o.a,schedule:null,room:null,loaded:!1,uIndex:null,isMessage:!1,messages:[],isGuru:this.$parsemi.isPos("Guru")}},mounted:function(){var e=a["a"].getTemp("schedule");this.schedule=e;var t=a["a"].getTemp("room"+this.schedule.room.objectId);t?(this.room=t,this.$parsemi.presences(this.schedule.objectId,this.fetchPresence)):this.$parsemi.room(e.room.objectId,this.fetchRoom),this.isGuru?this.subscribe():this.isMessage=!0},methods:{clickMessage:function(){this.isMessage=!this.isMessage},updateUser:function(e,t){var s=Object(c["a"])({},this.room);s.users[t]=e,this.room=s},onLogin:function(){this.setLogin(!0)},fetchRoom:function(e){a["a"].saveTemp("room"+this.schedule.room.objectId,e),this.room=e,this.$parsemi.presences(this.schedule.objectId,this.fetchPresence)},fetchPresence:function(e){for(var t=Object(c["a"])({},this.room),s=function(){var s=t.users[n];if(e.length>0){var r=e.find((function(e){return e.get("owner").id==s.objectId}));r&&(s.presence=r)}},n=0;n<t.users.length;n++)s();this.room=t,this.loaded=!0,this.$parsemi.messages(this.afterMessage,this.schedule.objectId)},afterMessage:function(e){this.messages=e},subscribe:function(){var e={__type:"Pointer",className:"Schedule",objectId:this.schedule.objectId};this.$parsemi.subsrcibe(this.onSubscribe,"Presence","schedule",e)},onSubscribe:function(e){e.on("create",this.settleWithoutIndex),e.on("update",this.settleWithoutIndex)},settleWithoutIndex:function(e){var t=Object(c["a"])({},this.room),s=t.users.find((function(t){return t.objectId==e.get("owner").id}));s&&(s.presence=e,this.room=t,this.uIndex=e.get("owner").id)}},beforeRouteLeave:function(e,t,s){this.$parsemi.unsubscribe(),s()}},h=l,b=(s("bada"),s("2877")),g=Object(b["a"])(h,n,r,!1,null,"023bf9e4",null);t["default"]=g.exports},"4de4":function(e,t,s){"use strict";var n=s("23e7"),r=s("b727").filter,c=s("1dde"),i=s("ae40"),o=c("filter"),a=i("filter");n({target:"Array",proto:!0,forced:!o||!a},{filter:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},5530:function(e,t,s){"use strict";s.d(t,"a",(function(){return c}));s("a4d3"),s("4de4"),s("4160"),s("e439"),s("dbb4"),s("b64b"),s("159b");function n(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function r(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,n)}return s}function c(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?r(Object(s),!0).forEach((function(t){n(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):r(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}},"67ff":function(e,t,s){e.exports=s.p+"img/bg-edu-overlay.470ed790.jpg"},8418:function(e,t,s){"use strict";var n=s("c04e"),r=s("9bf2"),c=s("5c6c");e.exports=function(e,t,s){var i=n(t);i in e?r.f(e,i,c(0,s)):e[i]=s}},a640:function(e,t,s){"use strict";var n=s("d039");e.exports=function(e,t){var s=[][e];return!!s&&n((function(){s.call(null,t||function(){throw 1},1)}))}},b64b:function(e,t,s){var n=s("23e7"),r=s("7b0b"),c=s("df75"),i=s("d039"),o=i((function(){c(1)}));n({target:"Object",stat:!0,forced:o},{keys:function(e){return c(r(e))}})},bada:function(e,t,s){"use strict";var n=s("09f3"),r=s.n(n);r.a},dbb4:function(e,t,s){var n=s("23e7"),r=s("83ab"),c=s("56ef"),i=s("fc6a"),o=s("06cf"),a=s("8418");n({target:"Object",stat:!0,sham:!r},{getOwnPropertyDescriptors:function(e){var t,s,n=i(e),r=o.f,u=c(n),d={},f=0;while(u.length>f)s=r(n,t=u[f++]),void 0!==s&&a(d,t,s);return d}})},e439:function(e,t,s){var n=s("23e7"),r=s("d039"),c=s("fc6a"),i=s("06cf").f,o=s("83ab"),a=r((function(){i(1)})),u=!o||a;n({target:"Object",stat:!0,forced:u,sham:!o},{getOwnPropertyDescriptor:function(e,t){return i(c(e),t)}})}}]);
//# sourceMappingURL=chunk-0357b31e.4904892f.js.map