(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors~84537199"],{"012d":function(e,t,n){"use strict";var r=n("1bd5"),a=n("2d80");a(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("5b1a")),u=r(n("2d80")),s=r(n("3818")),l=r(n("9e19")),o=r(n("d3a3")),d=r(n("900e")),f=r(n("dd25")),c=r(n("7989")),h=r(n("3bc0")),v=r(n("5f9f")),y=r(n("e80e")),_=r(n("5d22")),p=r(n("acfc")),g=r(n("d2d1")),m=r(n("c70b")),w=r(n("f47a")),k=r(n("d943")),b="currentUser",C=!_.default.get("IS_NODE"),N=!1,T=null,O={},E=function(e){function t(e){var n;if((0,o.default)(this,t),n=(0,f.default)(this,(0,c.default)(t).call(this,"_User")),e&&"object"===(0,l.default)(e)&&!n.set(e||{}))throw new Error("Can't create an invalid Parse User");return n}return(0,v.default)(t,e),(0,d.default)(t,[{key:"_upgradeToRevocableSession",value:function(e){e=e||{};var t={};e.hasOwnProperty("useMasterKey")&&(t.useMasterKey=e.useMasterKey);var n=_.default.getUserController();return n.upgradeToRevocableSession(this,t)}},{key:"linkWith",value:function(e,t){var n,r=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(a.sessionToken=a.sessionToken||this.getSessionToken()||"","string"===typeof e)if(n=e,O[e])e=O[e];else{var i={restoreAuthentication:function(){return!0},getAuthType:function(){return n}};O[n]=i,e=i}else n=e.getAuthType();if(t&&t.hasOwnProperty("authData")){var u=this.get("authData")||{};if("object"!==(0,l.default)(u))throw new Error("Invalid type: authData field should be an object");u[n]=t.authData;var o=_.default.getUserController();return o.linkWith(this,u,a)}return new s.default((function(t,n){e.authenticate({success:function(e,i){var u={};u.authData=i,r.linkWith(e,u,a).then((function(){t(r)}),(function(e){n(e)}))},error:function(e,t){n(t)}})}))}},{key:"_linkWith",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.linkWith(e,t,n)}},{key:"_synchronizeAuthData",value:function(e){if(this.isCurrent()&&e){var t;"string"===typeof e?(t=e,e=O[t]):t=e.getAuthType();var n=this.get("authData");if(e&&n&&"object"===(0,l.default)(n)){var r=e.restoreAuthentication(n[t]);r||this._unlinkFrom(e)}}}},{key:"_synchronizeAllAuthData",value:function(){var e=this.get("authData");if("object"===(0,l.default)(e))for(var t in e)this._synchronizeAuthData(t)}},{key:"_cleanupAuthData",value:function(){if(this.isCurrent()){var e=this.get("authData");if("object"===(0,l.default)(e))for(var t in e)e[t]||delete e[t]}}},{key:"_unlinkFrom",value:function(e,t){var n=this;return this.linkWith(e,{authData:null},t).then((function(){return n._synchronizeAuthData(e),s.default.resolve(n)}))}},{key:"_isLinked",value:function(e){var t;t="string"===typeof e?e:e.getAuthType();var n=this.get("authData")||{};return"object"===(0,l.default)(n)&&!!n[t]}},{key:"_logOutWithAll",value:function(){var e=this.get("authData");if("object"===(0,l.default)(e))for(var t in e)this._logOutWith(t)}},{key:"_logOutWith",value:function(e){this.isCurrent()&&("string"===typeof e&&(e=O[e]),e&&e.deauthenticate&&e.deauthenticate())}},{key:"_preserveFieldsOnFetch",value:function(){return{sessionToken:this.get("sessionToken")}}},{key:"isCurrent",value:function(){var e=t.current();return!!e&&e.id===this.id}},{key:"getUsername",value:function(){var e=this.get("username");return null==e||"string"===typeof e?e:""}},{key:"setUsername",value:function(e){var t=this.get("authData");t&&"object"===(0,l.default)(t)&&t.hasOwnProperty("anonymous")&&(t.anonymous=null),this.set("username",e)}},{key:"setPassword",value:function(e){this.set("password",e)}},{key:"getEmail",value:function(){var e=this.get("email");return null==e||"string"===typeof e?e:""}},{key:"setEmail",value:function(e){return this.set("email",e)}},{key:"getSessionToken",value:function(){var e=this.get("sessionToken");return null==e||"string"===typeof e?e:""}},{key:"authenticated",value:function(){var e=t.current();return!!this.get("sessionToken")&&!!e&&e.id===this.id}},{key:"signUp",value:function(e,t){t=t||{};var n={};t.hasOwnProperty("useMasterKey")&&(n.useMasterKey=t.useMasterKey),t.hasOwnProperty("installationId")&&(n.installationId=t.installationId);var r=_.default.getUserController();return r.signUp(this,e,n)}},{key:"logIn",value:function(e){e=e||{};var t={};e.hasOwnProperty("useMasterKey")&&(t.useMasterKey=e.useMasterKey),e.hasOwnProperty("installationId")&&(t.installationId=e.installationId);var n=_.default.getUserController();return n.logIn(this,t)}},{key:"save",value:function(){for(var e=this,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(0,h.default)((0,c.default)(t.prototype),"save",this).apply(this,r).then((function(){return e.isCurrent()?_.default.getUserController().updateUserOnDisk(e):e}))}},{key:"destroy",value:function(){for(var e=this,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(0,h.default)((0,c.default)(t.prototype),"destroy",this).apply(this,r).then((function(){return e.isCurrent()?_.default.getUserController().removeUserFromDisk():e}))}},{key:"fetch",value:function(){for(var e=this,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(0,h.default)((0,c.default)(t.prototype),"fetch",this).apply(this,r).then((function(){return e.isCurrent()?_.default.getUserController().updateUserOnDisk(e):e}))}},{key:"fetchWithInclude",value:function(){for(var e=this,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(0,h.default)((0,c.default)(t.prototype),"fetchWithInclude",this).apply(this,r).then((function(){return e.isCurrent()?_.default.getUserController().updateUserOnDisk(e):e}))}}],[{key:"readOnlyAttributes",value:function(){return["sessionToken"]}},{key:"extend",value:function(e,n){if(e)for(var r in e)"className"!==r&&(0,u.default)(t.prototype,r,{value:e[r],enumerable:!1,writable:!0,configurable:!0});if(n)for(var a in n)"className"!==a&&(0,u.default)(t,a,{value:n[a],enumerable:!1,writable:!0,configurable:!0});return t}},{key:"current",value:function(){if(!C)return null;var e=_.default.getUserController();return e.currentUser()}},{key:"currentAsync",value:function(){if(!C)return s.default.resolve(null);var e=_.default.getUserController();return e.currentUserAsync()}},{key:"signUp",value:function(e,t,n,r){n=n||{},n.username=e,n.password=t;var a=new this(n);return a.signUp({},r)}},{key:"logIn",value:function(e,t,n){if("string"!==typeof e)return s.default.reject(new g.default(g.default.OTHER_CAUSE,"Username must be a string."));if("string"!==typeof t)return s.default.reject(new g.default(g.default.OTHER_CAUSE,"Password must be a string."));var r=new this;return r._finishFetch({username:e,password:t}),r.logIn(n)}},{key:"become",value:function(e,t){if(!C)throw new Error("It is not memory-safe to become a user in a server environment");t=t||{};var n={sessionToken:e};t.hasOwnProperty("useMasterKey")&&(n.useMasterKey=t.useMasterKey);var r=_.default.getUserController(),a=new this;return r.become(a,n)}},{key:"me",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=_.default.getUserController(),r={sessionToken:e};t.useMasterKey&&(r.useMasterKey=t.useMasterKey);var a=new this;return n.me(a,r)}},{key:"hydrate",value:function(e){var t=_.default.getUserController(),n=new this;return t.hydrate(n,e)}},{key:"logInWith",value:function(e,t,n){var r=new this;return r.linkWith(e,t,n)}},{key:"logOut",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=_.default.getUserController();return t.logOut(e)}},{key:"requestPasswordReset",value:function(e,t){t=t||{};var n={};t.hasOwnProperty("useMasterKey")&&(n.useMasterKey=t.useMasterKey);var r=_.default.getUserController();return r.requestPasswordReset(e,n)}},{key:"allowCustomUserClass",value:function(e){_.default.set("PERFORM_USER_REWRITE",!e)}},{key:"enableRevocableSession",value:function(e){if(e=e||{},_.default.set("FORCE_REVOCABLE_SESSION",!0),C){var n=t.current();if(n)return n._upgradeToRevocableSession(e)}return s.default.resolve()}},{key:"enableUnsafeCurrentUser",value:function(){C=!0}},{key:"disableUnsafeCurrentUser",value:function(){C=!1}},{key:"_registerAuthenticationProvider",value:function(e){O[e.getAuthType()]=e,t.currentAsync().then((function(t){t&&t._synchronizeAuthData(e.getAuthType())}))}},{key:"_logInWith",value:function(e,t,n){var r=new this;return r.linkWith(e,t,n)}},{key:"_clearCache",value:function(){T=null,N=!1}},{key:"_setCurrentUserCache",value:function(e){T=e}}]),t}(m.default);m.default.registerSubclass("_User",E);var R={updateUserOnDisk:function(e){var t=k.default.generatePath(b),n=e.toJSON();delete n.password,n.className="_User";var r=(0,i.default)(n);if(_.default.get("ENCRYPTED_USER")){var a=_.default.getCryptoController();r=a.encrypt(n,_.default.get("ENCRYPTED_KEY"))}return k.default.setItemAsync(t,r).then((function(){return e}))},removeUserFromDisk:function(){var e=k.default.generatePath(b);return N=!0,T=null,k.default.removeItemAsync(e)},setCurrentUser:function(e){var t=this.currentUser(),n=s.default.resolve();return t&&!e.equals(t)&&y.default.isLinked(t)&&(n=t.destroy({sessionToken:t.getSessionToken()})),T=e,e._cleanupAuthData(),e._synchronizeAllAuthData(),n.then((function(){return R.updateUserOnDisk(e)}))},currentUser:function(){if(T)return T;if(N)return null;if(k.default.async())throw new Error("Cannot call currentUser() when using a platform with an async storage system. Call currentUserAsync() instead.");var e=k.default.generatePath(b),t=k.default.getItem(e);if(N=!0,!t)return T=null,null;if(_.default.get("ENCRYPTED_USER")){var n=_.default.getCryptoController();t=n.decrypt(t,_.default.get("ENCRYPTED_KEY"))}t=JSON.parse(t),t.className||(t.className="_User"),t._id&&(t.objectId!==t._id&&(t.objectId=t._id),delete t._id),t._sessionToken&&(t.sessionToken=t._sessionToken,delete t._sessionToken);var r=m.default.fromJSON(t);return T=r,r._synchronizeAllAuthData(),r},currentUserAsync:function(){if(T)return s.default.resolve(T);if(N)return s.default.resolve(null);var e=k.default.generatePath(b);return k.default.getItemAsync(e).then((function(e){if(N=!0,!e)return T=null,s.default.resolve(null);if(_.default.get("ENCRYPTED_USER")){var t=_.default.getCryptoController();e=t.decrypt(e.toString(),_.default.get("ENCRYPTED_KEY"))}e=JSON.parse(e),e.className||(e.className="_User"),e._id&&(e.objectId!==e._id&&(e.objectId=e._id),delete e._id),e._sessionToken&&(e.sessionToken=e._sessionToken,delete e._sessionToken);var n=m.default.fromJSON(e);return T=n,n._synchronizeAllAuthData(),s.default.resolve(n)}))},signUp:function(e,t,n){var r=t&&t.username||e.get("username"),a=t&&t.password||e.get("password");return r&&r.length?a&&a.length?e.save(t,n).then((function(){return e._finishFetch({password:void 0}),C?R.setCurrentUser(e):e})):s.default.reject(new g.default(g.default.OTHER_CAUSE,"Cannot sign up user with an empty password.")):s.default.reject(new g.default(g.default.OTHER_CAUSE,"Cannot sign up user with an empty name."))},logIn:function(e,t){var n=_.default.getRESTController(),r=_.default.getObjectStateController(),a={username:e.get("username"),password:e.get("password")};return n.request("GET","login",a,t).then((function(t){return e._migrateId(t.objectId),e._setExisted(!0),r.setPendingOp(e._getStateIdentifier(),"username",void 0),r.setPendingOp(e._getStateIdentifier(),"password",void 0),t.password=void 0,e._finishFetch(t),C?R.setCurrentUser(e):s.default.resolve(e)}))},become:function(e,t){var n=_.default.getRESTController();return n.request("GET","users/me",{},t).then((function(t){return e._finishFetch(t),e._setExisted(!0),R.setCurrentUser(e)}))},hydrate:function(e,t){return e._finishFetch(t),e._setExisted(!0),t.sessionToken&&C?R.setCurrentUser(e):s.default.resolve(e)},me:function(e,t){var n=_.default.getRESTController();return n.request("GET","users/me",{},t).then((function(t){return e._finishFetch(t),e._setExisted(!0),e}))},logOut:function(e){var t=_.default.getRESTController();return e.sessionToken?t.request("POST","logout",{},e):R.currentUserAsync().then((function(e){var n=k.default.generatePath(b),r=k.default.removeItemAsync(n);if(null!==e){var a=y.default.isLinked(e),i=e.getSessionToken();i&&(0,p.default)(i)&&(r=r.then((function(){if(a)return e.destroy({sessionToken:i})})).then((function(){return t.request("POST","logout",{},{sessionToken:i})}))),e._logOutWithAll(),e._finishFetch({sessionToken:void 0})}return N=!0,T=null,r}))},requestPasswordReset:function(e,t){var n=_.default.getRESTController();return n.request("POST","requestPasswordReset",{email:e},t)},upgradeToRevocableSession:function(e,t){var n=e.getSessionToken();if(!n)return s.default.reject(new g.default(g.default.SESSION_MISSING,"Cannot upgrade a user with no session token"));t.sessionToken=n;var r=_.default.getRESTController();return r.request("POST","upgradeToRevocableSession",{},t).then((function(t){var n=new w.default;return n._finishFetch(t),e._finishFetch({sessionToken:n.getSessionToken()}),e.isCurrent()?R.setCurrentUser(e):s.default.resolve(e)}))},linkWith:function(e,t,n){return e.save({authData:t},n).then((function(){return C?R.setCurrentUser(e):e}))}};_.default.setUserController(R);var S=E;t.default=S},"3f70":function(e,t,n){"use strict";var r=n("1bd5"),a=n("2d80");a(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("65b8")),u=r(n("d3a3")),s=r(n("900e")),l=r(n("d382")),o=r(n("5d22")),d=r(n("c70b")),f=["String","Number","Boolean","Date","File","GeoPoint","Polygon","Array","Object","Pointer","Relation"],c=function(){function e(t){(0,u.default)(this,e),(0,l.default)(this,"className",void 0),(0,l.default)(this,"_fields",void 0),(0,l.default)(this,"_indexes",void 0),(0,l.default)(this,"_clp",void 0),"string"===typeof t&&("User"===t&&o.default.get("PERFORM_USER_REWRITE")?this.className="_User":this.className=t),this._fields={},this._indexes={}}return(0,s.default)(e,[{key:"get",value:function(){this.assertClassName();var e=o.default.getSchemaController();return e.get(this.className).then((function(e){if(!e)throw new Error("Schema not found.");return e}))}},{key:"save",value:function(){this.assertClassName();var e=o.default.getSchemaController(),t={className:this.className,fields:this._fields,indexes:this._indexes,classLevelPermissions:this._clp};return e.create(this.className,t)}},{key:"update",value:function(){this.assertClassName();var e=o.default.getSchemaController(),t={className:this.className,fields:this._fields,indexes:this._indexes,classLevelPermissions:this._clp};return this._fields={},this._indexes={},e.update(this.className,t)}},{key:"delete",value:function(){this.assertClassName();var e=o.default.getSchemaController();return e.delete(this.className)}},{key:"purge",value:function(){this.assertClassName();var e=o.default.getSchemaController();return e.purge(this.className)}},{key:"assertClassName",value:function(){if(!this.className)throw new Error("You must set a Class Name before making any request.")}},{key:"setCLP",value:function(e){return this._clp=e,this}},{key:"addField",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t=t||"String",!e)throw new Error("field name may not be null.");if(-1===(0,i.default)(f).call(f,t))throw new Error("".concat(t," is not a valid type."));var r={type:t};return"boolean"===typeof n.required&&(r.required=n.required),void 0!==n.defaultValue&&(r.defaultValue=n.defaultValue),this._fields[e]=r,this}},{key:"addIndex",value:function(e,t){if(!e)throw new Error("index name may not be null.");if(!t)throw new Error("index may not be null.");return this._indexes[e]=t,this}},{key:"addString",value:function(e,t){return this.addField(e,"String",t)}},{key:"addNumber",value:function(e,t){return this.addField(e,"Number",t)}},{key:"addBoolean",value:function(e,t){return this.addField(e,"Boolean",t)}},{key:"addDate",value:function(e,t){return t&&t.defaultValue&&(t.defaultValue={__type:"Date",iso:new Date(t.defaultValue)}),this.addField(e,"Date",t)}},{key:"addFile",value:function(e,t){return this.addField(e,"File",t)}},{key:"addGeoPoint",value:function(e,t){return this.addField(e,"GeoPoint",t)}},{key:"addPolygon",value:function(e,t){return this.addField(e,"Polygon",t)}},{key:"addArray",value:function(e,t){return this.addField(e,"Array",t)}},{key:"addObject",value:function(e,t){return this.addField(e,"Object",t)}},{key:"addPointer",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)throw new Error("field name may not be null.");if(!t)throw new Error("You need to set the targetClass of the Pointer.");var r={type:"Pointer",targetClass:t};return"boolean"===typeof n.required&&(r.required=n.required),void 0!==n.defaultValue&&(r.defaultValue=n.defaultValue,n.defaultValue instanceof d.default&&(r.defaultValue=n.defaultValue.toPointer())),this._fields[e]=r,this}},{key:"addRelation",value:function(e,t){if(!e)throw new Error("field name may not be null.");if(!t)throw new Error("You need to set the targetClass of the Relation.");return this._fields[e]={type:"Relation",targetClass:t},this}},{key:"deleteField",value:function(e){return this._fields[e]={__op:"Delete"},this}},{key:"deleteIndex",value:function(e){return this._indexes[e]={__op:"Delete"},this}}],[{key:"all",value:function(){var e=o.default.getSchemaController();return e.get("").then((function(e){if(0===e.results.length)throw new Error("Schema not found.");return e.results}))}}]),e}(),h={send:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=o.default.getRESTController();return r.request(t,"schemas/".concat(e),n,{useMasterKey:!0})},get:function(e){return this.send(e,"GET")},create:function(e,t){return this.send(e,"POST",t)},update:function(e,t){return this.send(e,"PUT",t)},delete:function(e){return this.send(e,"DELETE")},purge:function(e){var t=o.default.getRESTController();return t.request("DELETE","purge/".concat(e),{},{useMasterKey:!0})}};o.default.setSchemaController(h);var v=c;t.default=v},"587d":function(e,t,n){"use strict";var r=n("1bd5"),a=n("2d80");a(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("e946")),u=r(n("d3a3")),s=r(n("900e")),l=r(n("d382")),o=r(n("9748")),d=function(){function e(t){(0,u.default)(this,e),(0,l.default)(this,"_coordinates",void 0),this._coordinates=e._validate(t)}return(0,s.default)(e,[{key:"toJSON",value:function(){return e._validate(this._coordinates),{__type:"Polygon",coordinates:this._coordinates}}},{key:"equals",value:function(t){if(!(t instanceof e)||this.coordinates.length!==t.coordinates.length)return!1;for(var n=!0,r=1;r<this._coordinates.length;r+=1)if(this._coordinates[r][0]!=t.coordinates[r][0]||this._coordinates[r][1]!=t.coordinates[r][1]){n=!1;break}return n}},{key:"containsPoint",value:function(e){for(var t=this._coordinates[0][0],n=this._coordinates[0][0],r=this._coordinates[0][1],a=this._coordinates[0][1],i=1;i<this._coordinates.length;i+=1){var u=this._coordinates[i];t=Math.min(u[0],t),n=Math.max(u[0],n),r=Math.min(u[1],r),a=Math.max(u[1],a)}var s=e.latitude<t||e.latitude>n||e.longitude<r||e.longitude>a;if(s)return!1;for(var l=!1,o=0,d=this._coordinates.length-1;o<this._coordinates.length;d=o++){var f=this._coordinates[o][0],c=this._coordinates[o][1],h=this._coordinates[d][0],v=this._coordinates[d][1],y=c>e.longitude!=v>e.longitude&&e.latitude<(h-f)*(e.longitude-c)/(v-c)+f;y&&(l=!l)}return l}},{key:"coordinates",get:function(){return this._coordinates},set:function(t){this._coordinates=e._validate(t)}}],[{key:"_validate",value:function(e){if(!(0,i.default)(e))throw new TypeError("Coordinates must be an Array");if(e.length<3)throw new TypeError("Polygon must have at least 3 GeoPoints or Points");for(var t=[],n=0;n<e.length;n+=1){var r=e[n],a=void 0;if(r instanceof o.default)a=r;else{if(!(0,i.default)(r)||2!==r.length)throw new TypeError("Coordinates must be an Array of GeoPoints or Points");a=new o.default(r[0],r[1])}t.push([a.latitude,a.longitude])}return t}}]),e}(),f=d;t.default=f},"62eb":function(e,t,n){"use strict";var r=n("1bd5"),a=n("2d80");a(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("e946")),u=r(n("d3a3")),s=r(n("900e")),l=r(n("d382")),o=n("b096"),d=(r(n("c70b")),r(n("e0da"))),f=function(){function e(t,n){(0,u.default)(this,e),(0,l.default)(this,"parent",void 0),(0,l.default)(this,"key",void 0),(0,l.default)(this,"targetClassName",void 0),this.parent=t,this.key=n,this.targetClassName=null}return(0,s.default)(e,[{key:"_ensureParentAndKey",value:function(e,t){if(this.key=this.key||t,this.key!==t)throw new Error("Internal Error. Relation retrieved from two different keys.");if(this.parent){if(this.parent.className!==e.className)throw new Error("Internal Error. Relation retrieved from two different Objects.");if(this.parent.id){if(this.parent.id!==e.id)throw new Error("Internal Error. Relation retrieved from two different Objects.")}else e.id&&(this.parent=e)}else this.parent=e}},{key:"add",value:function(e){(0,i.default)(e)||(e=[e]);var t=new o.RelationOp(e,[]),n=this.parent;if(!n)throw new Error("Cannot add to a Relation without a parent");return n.set(this.key,t),this.targetClassName=t._targetClassName,n}},{key:"remove",value:function(e){(0,i.default)(e)||(e=[e]);var t=new o.RelationOp([],e);if(!this.parent)throw new Error("Cannot remove from a Relation without a parent");this.parent.set(this.key,t),this.targetClassName=t._targetClassName}},{key:"toJSON",value:function(){return{__type:"Relation",className:this.targetClassName}}},{key:"query",value:function(){var e,t=this.parent;if(!t)throw new Error("Cannot construct a query for a Relation without a parent");return this.targetClassName?e=new d.default(this.targetClassName):(e=new d.default(t.className),e._extraOptions.redirectClassNameForKey=this.key),e._addCondition("$relatedTo","object",{__type:"Pointer",className:t.className,objectId:t.id}),e._addCondition("$relatedTo","key",this.key),e}}]),e}(),c=f;t.default=c},b096:function(e,t,n){"use strict";var r=n("1bd5"),a=n("2d80");a(t,"__esModule",{value:!0}),t.opFromJSON=N,t.RelationOp=t.RemoveOp=t.AddUniqueOp=t.AddOp=t.IncrementOp=t.UnsetOp=t.SetOp=t.Op=void 0;var i=r(n("14b1")),u=r(n("3393")),s=r(n("65b8")),l=r(n("4573")),o=r(n("dd25")),d=r(n("7989")),f=r(n("84ed")),c=r(n("5f9f")),h=r(n("d382")),v=r(n("d3a3")),y=r(n("900e")),_=r(n("a3e3")),p=r(n("e946")),g=r(n("c39a")),m=r(n("eb53")),w=r(n("6ec3")),k=r(n("c70b")),b=r(n("62eb")),C=r(n("4371"));function N(e){if(!e||!e.__op)return null;switch(e.__op){case"Delete":return new E;case"Increment":return new R(e.amount);case"Add":return new S((0,m.default)(e.objects));case"AddUnique":return new P((0,m.default)(e.objects));case"Remove":return new A((0,m.default)(e.objects));case"AddRelation":var t=(0,m.default)(e.objects);return(0,p.default)(t)?new x(t,[]):new x([],[]);case"RemoveRelation":var n=(0,m.default)(e.objects);return(0,p.default)(n)?new x([],n):new x([],[]);case"Batch":for(var r=[],a=[],i=0;i<e.ops.length;i++)"AddRelation"===e.ops[i].__op?r=(0,_.default)(r).call(r,(0,m.default)(e.ops[i].objects)):"RemoveRelation"===e.ops[i].__op&&(a=(0,_.default)(a).call(a,(0,m.default)(e.ops[i].objects)));return new x(r,a)}return null}var T=function(){function e(){(0,v.default)(this,e)}return(0,y.default)(e,[{key:"applyTo",value:function(){}},{key:"mergeWith",value:function(){}},{key:"toJSON",value:function(){}}]),e}();t.Op=T;var O=function(e){function t(e){var n;return(0,v.default)(this,t),n=(0,o.default)(this,(0,d.default)(t).call(this)),(0,h.default)((0,f.default)(n),"_value",void 0),n._value=e,n}return(0,c.default)(t,e),(0,y.default)(t,[{key:"applyTo",value:function(){return this._value}},{key:"mergeWith",value:function(){return new t(this._value)}},{key:"toJSON",value:function(){return(0,w.default)(this._value,!1,!0)}}]),t}(T);t.SetOp=O;var E=function(e){function t(){return(0,v.default)(this,t),(0,o.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,y.default)(t,[{key:"applyTo",value:function(){}},{key:"mergeWith",value:function(){return new t}},{key:"toJSON",value:function(){return{__op:"Delete"}}}]),t}(T);t.UnsetOp=E;var R=function(e){function t(e){var n;if((0,v.default)(this,t),n=(0,o.default)(this,(0,d.default)(t).call(this)),(0,h.default)((0,f.default)(n),"_amount",void 0),"number"!==typeof e)throw new TypeError("Increment Op must be initialized with a numeric amount.");return n._amount=e,n}return(0,c.default)(t,e),(0,y.default)(t,[{key:"applyTo",value:function(e){if("undefined"===typeof e)return this._amount;if("number"!==typeof e)throw new TypeError("Cannot increment a non-numeric value.");return this._amount+e}},{key:"mergeWith",value:function(e){if(!e)return this;if(e instanceof O)return new O(this.applyTo(e._value));if(e instanceof E)return new O(this._amount);if(e instanceof t)return new t(this.applyTo(e._amount));throw new Error("Cannot merge Increment Op with the previous Op")}},{key:"toJSON",value:function(){return{__op:"Increment",amount:this._amount}}}]),t}(T);t.IncrementOp=R;var S=function(e){function t(e){var n;return(0,v.default)(this,t),n=(0,o.default)(this,(0,d.default)(t).call(this)),(0,h.default)((0,f.default)(n),"_value",void 0),n._value=(0,p.default)(e)?e:[e],n}return(0,c.default)(t,e),(0,y.default)(t,[{key:"applyTo",value:function(e){if(null==e)return this._value;if((0,p.default)(e))return(0,_.default)(e).call(e,this._value);throw new Error("Cannot add elements to a non-array value")}},{key:"mergeWith",value:function(e){if(!e)return this;if(e instanceof O)return new O(this.applyTo(e._value));if(e instanceof E)return new O(this._value);if(e instanceof t)return new t(this.applyTo(e._value));throw new Error("Cannot merge Add Op with the previous Op")}},{key:"toJSON",value:function(){return{__op:"Add",objects:(0,w.default)(this._value,!1,!0)}}}]),t}(T);t.AddOp=S;var P=function(e){function t(e){var n;return(0,v.default)(this,t),n=(0,o.default)(this,(0,d.default)(t).call(this)),(0,h.default)((0,f.default)(n),"_value",void 0),n._value=(0,C.default)((0,p.default)(e)?e:[e]),n}return(0,c.default)(t,e),(0,y.default)(t,[{key:"applyTo",value:function(e){if(null==e)return this._value||[];if((0,p.default)(e)){var t,n=e,r=[];return(0,l.default)(t=this._value).call(t,(function(e){e instanceof k.default?(0,g.default)(n,e)||r.push(e):(0,s.default)(n).call(n,e)<0&&r.push(e)})),(0,_.default)(e).call(e,r)}throw new Error("Cannot add elements to a non-array value")}},{key:"mergeWith",value:function(e){if(!e)return this;if(e instanceof O)return new O(this.applyTo(e._value));if(e instanceof E)return new O(this._value);if(e instanceof t)return new t(this.applyTo(e._value));throw new Error("Cannot merge AddUnique Op with the previous Op")}},{key:"toJSON",value:function(){return{__op:"AddUnique",objects:(0,w.default)(this._value,!1,!0)}}}]),t}(T);t.AddUniqueOp=P;var A=function(e){function t(e){var n;return(0,v.default)(this,t),n=(0,o.default)(this,(0,d.default)(t).call(this)),(0,h.default)((0,f.default)(n),"_value",void 0),n._value=(0,C.default)((0,p.default)(e)?e:[e]),n}return(0,c.default)(t,e),(0,y.default)(t,[{key:"applyTo",value:function(e){if(null==e)return[];if((0,p.default)(e)){for(var t=(0,_.default)(e).call(e,[]),n=0;n<this._value.length;n++){var r=(0,s.default)(t).call(t,this._value[n]);while(r>-1)(0,u.default)(t).call(t,r,1),r=(0,s.default)(t).call(t,this._value[n]);if(this._value[n]instanceof k.default&&this._value[n].id)for(var a=0;a<t.length;a++)t[a]instanceof k.default&&this._value[n].id===t[a].id&&((0,u.default)(t).call(t,a,1),a--)}return t}throw new Error("Cannot remove elements from a non-array value")}},{key:"mergeWith",value:function(e){if(!e)return this;if(e instanceof O)return new O(this.applyTo(e._value));if(e instanceof E)return new E;if(e instanceof t){for(var n,r=(0,_.default)(n=e._value).call(n,[]),a=0;a<this._value.length;a++)this._value[a]instanceof k.default?(0,g.default)(r,this._value[a])||r.push(this._value[a]):(0,s.default)(r).call(r,this._value[a])<0&&r.push(this._value[a]);return new t(r)}throw new Error("Cannot merge Remove Op with the previous Op")}},{key:"toJSON",value:function(){return{__op:"Remove",objects:(0,w.default)(this._value,!1,!0)}}}]),t}(T);t.RemoveOp=A;var x=function(e){function t(e,n){var r;return(0,v.default)(this,t),r=(0,o.default)(this,(0,d.default)(t).call(this)),(0,h.default)((0,f.default)(r),"_targetClassName",void 0),(0,h.default)((0,f.default)(r),"relationsToAdd",void 0),(0,h.default)((0,f.default)(r),"relationsToRemove",void 0),r._targetClassName=null,(0,p.default)(e)&&(r.relationsToAdd=(0,C.default)((0,i.default)(e).call(e,r._extractId,(0,f.default)(r)))),(0,p.default)(n)&&(r.relationsToRemove=(0,C.default)((0,i.default)(n).call(n,r._extractId,(0,f.default)(r)))),r}return(0,c.default)(t,e),(0,y.default)(t,[{key:"_extractId",value:function(e){if("string"===typeof e)return e;if(!e.id)throw new Error("You cannot add or remove an unsaved Parse Object from a relation");if(this._targetClassName||(this._targetClassName=e.className),this._targetClassName!==e.className)throw new Error("Tried to create a Relation with 2 different object types: "+this._targetClassName+" and "+e.className+".");return e.id}},{key:"applyTo",value:function(e,t,n){if(!e){var r;if(!t||!n)throw new Error("Cannot apply a RelationOp without either a previous value, or an object and a key");var a=new k.default(t.className);t.id&&0===(0,s.default)(r=t.id).call(r,"local")?a._localId=t.id:t.id&&(a.id=t.id);var i=new b.default(a,n);return i.targetClassName=this._targetClassName,i}if(e instanceof b.default){if(this._targetClassName)if(e.targetClassName){if(this._targetClassName!==e.targetClassName)throw new Error("Related object must be a "+e.targetClassName+", but a "+this._targetClassName+" was passed in.")}else e.targetClassName=this._targetClassName;return e}throw new Error("Relation cannot be applied to a non-relation field")}},{key:"mergeWith",value:function(e){if(!e)return this;if(e instanceof E)throw new Error("You cannot modify a relation after deleting it.");if(e instanceof O&&e._value instanceof b.default)return this;if(e instanceof t){var n,r,a,i,o,d;if(e._targetClassName&&e._targetClassName!==this._targetClassName)throw new Error("Related object must be of class "+e._targetClassName+", but "+(this._targetClassName||"null")+" was passed in.");var f=(0,_.default)(n=e.relationsToAdd).call(n,[]);(0,l.default)(r=this.relationsToRemove).call(r,(function(e){var t=(0,s.default)(f).call(f,e);t>-1&&(0,u.default)(f).call(f,t,1)})),(0,l.default)(a=this.relationsToAdd).call(a,(function(e){var t=(0,s.default)(f).call(f,e);t<0&&f.push(e)}));var c=(0,_.default)(i=e.relationsToRemove).call(i,[]);(0,l.default)(o=this.relationsToAdd).call(o,(function(e){var t=(0,s.default)(c).call(c,e);t>-1&&(0,u.default)(c).call(c,t,1)})),(0,l.default)(d=this.relationsToRemove).call(d,(function(e){var t=(0,s.default)(c).call(c,e);t<0&&c.push(e)}));var h=new t(f,c);return h._targetClassName=this._targetClassName,h}throw new Error("Cannot merge Relation Op with the previous Op")}},{key:"toJSON",value:function(){var e,t,n=this,r=function(e){return{__type:"Pointer",className:n._targetClassName,objectId:e}},a=null,u=null,s=null;this.relationsToAdd.length>0&&(s=(0,i.default)(e=this.relationsToAdd).call(e,r),a={__op:"AddRelation",objects:s});this.relationsToRemove.length>0&&(s=(0,i.default)(t=this.relationsToRemove).call(t,r),u={__op:"RemoveRelation",objects:s});return a&&u?{__op:"Batch",ops:[a,u]}:a||u||{}}}]),t}(T);t.RelationOp=x},d1e5:function(e,t,n){"use strict";var r=n("1bd5"),a=n("2d80");a(t,"__esModule",{value:!0}),t.send=l;var i=r(n("9e19")),u=r(n("5d22")),s=r(n("e0da"));function l(e,t){if(t=t||{},e.where&&e.where instanceof s.default&&(e.where=e.where.toJSON().where),e.push_time&&"object"===(0,i.default)(e.push_time)&&(e.push_time=e.push_time.toJSON()),e.expiration_time&&"object"===(0,i.default)(e.expiration_time)&&(e.expiration_time=e.expiration_time.toJSON()),e.expiration_time&&e.expiration_interval)throw new Error("expiration_time and expiration_interval cannot both be set.");return u.default.getPushController().send(e,{useMasterKey:t.useMasterKey})}var o={send:function(e,t){var n=u.default.getRESTController(),r=n.request("POST","push",e,{useMasterKey:!!t.useMasterKey});return r}};u.default.setPushController(o)},e0da:function(e,t,n){"use strict";var r=n("1bd5"),a=n("2d80");a(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("298b")),u=r(n("9e19")),s=r(n("e946")),l=r(n("fc56")),o=r(n("3818")),d=r(n("6b47")),f=r(n("3393")),c=r(n("82ec")),h=r(n("9a73")),v=r(n("a3e3")),y=r(n("c651")),_=r(n("e4f0")),p=r(n("48fc")),g=r(n("14b1")),m=r(n("d3a3")),w=r(n("900e")),k=r(n("d382")),b=r(n("52da")),C=r(n("fa81")),N=r(n("65b8")),T=r(n("4573")),O=r(n("5d22")),E=r(n("6ec3")),R=n("ddc7"),S=r(n("d2d1")),P=r(n("9748")),A=r(n("c70b")),x=r(n("b12f")),U=n("73bb");function q(e){return"\\Q"+e.replace("\\E","\\E\\\\E\\Q")+"\\E"}function I(e){var t=null;return(0,T.default)(e).call(e,(function(e){if(t||(t=e.className),t!==e.className)throw new Error("All queries must be for the same class.")})),t}function j(e,t){var n={};if((0,T.default)(t).call(t,(function(t){var r=-1!==(0,N.default)(t).call(t,".");if(r||e.hasOwnProperty(t)){if(r){var a=t.split("."),i=e,u=n;(0,T.default)(a).call(a,(function(e,t,n){i&&!i.hasOwnProperty(e)&&(i[e]=void 0),void 0!==i&&(i=i[e]),t<n.length-1&&(u[e]||(u[e]={}),u=u[e])}))}}else e[t]=void 0})),(0,C.default)(n).length>0){var r=O.default.getObjectStateController().getServerData({id:e.objectId,className:e.className});D(r,e,n,!1)}}function D(e,t,n,r){if(r)for(var a in e)e.hasOwnProperty(a)&&!t.hasOwnProperty(a)&&(t[a]=e[a]);for(var i in n)void 0!==t[i]&&null!==t[i]&&void 0!==e&&null!==e&&D(e[i],t[i],n[i],!0)}function M(e,t,n){var r=n[0],a=(0,b.default)(r).call(r,0,1),i="-"===a;if(i&&(r=r.substring(1)),"_created_at"===r&&(r="createdAt"),"_updated_at"===r&&(r="updatedAt"),!/^[A-Za-z][0-9A-Za-z_]*$/.test(r)||"password"===r)throw new S.default(S.default.INVALID_KEY_NAME,"Invalid Key: ".concat(r));var u=e.get(r),s=t.get(r);if(u<s)return i?1:-1;if(u>s)return i?-1:1;if(n.length>1){var l=(0,b.default)(n).call(n,1);return M(e,t,l)}return 0}var K=function(){function e(t){if((0,m.default)(this,e),(0,k.default)(this,"className",void 0),(0,k.default)(this,"_where",void 0),(0,k.default)(this,"_include",void 0),(0,k.default)(this,"_exclude",void 0),(0,k.default)(this,"_select",void 0),(0,k.default)(this,"_limit",void 0),(0,k.default)(this,"_skip",void 0),(0,k.default)(this,"_count",void 0),(0,k.default)(this,"_order",void 0),(0,k.default)(this,"_readPreference",void 0),(0,k.default)(this,"_includeReadPreference",void 0),(0,k.default)(this,"_subqueryReadPreference",void 0),(0,k.default)(this,"_queriesLocalDatastore",void 0),(0,k.default)(this,"_localDatastorePinName",void 0),(0,k.default)(this,"_extraOptions",void 0),(0,k.default)(this,"_xhrRequest",void 0),"string"===typeof t)"User"===t&&O.default.get("PERFORM_USER_REWRITE")?this.className="_User":this.className=t;else if(t instanceof A.default)this.className=t.className;else{if("function"!==typeof t)throw new TypeError("A ParseQuery must be constructed with a ParseObject or class name.");if("string"===typeof t.className)this.className=t.className;else{var n=new t;this.className=n.className}}this._where={},this._include=[],this._exclude=[],this._count=!1,this._limit=-1,this._skip=0,this._readPreference=null,this._includeReadPreference=null,this._subqueryReadPreference=null,this._queriesLocalDatastore=!1,this._localDatastorePinName=null,this._extraOptions={},this._xhrRequest={task:null,onchange:function(){}}}return(0,w.default)(e,[{key:"_orQuery",value:function(e){var t=(0,g.default)(e).call(e,(function(e){return e.toJSON().where}));return this._where.$or=t,this}},{key:"_andQuery",value:function(e){var t=(0,g.default)(e).call(e,(function(e){return e.toJSON().where}));return this._where.$and=t,this}},{key:"_norQuery",value:function(e){var t=(0,g.default)(e).call(e,(function(e){return e.toJSON().where}));return this._where.$nor=t,this}},{key:"_addCondition",value:function(e,t,n){return this._where[e]&&"string"!==typeof this._where[e]||(this._where[e]={}),this._where[e][t]=(0,E.default)(n,!1,!0),this}},{key:"_regexStartWith",value:function(e){return"^"+q(e)}},{key:"_handleOfflineQuery",value:function(){var e=(0,p.default)(d.default.mark((function e(t){var n,r,a,i,u,s,l,o,p,m=this;return d.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return x.default.validateQuery(this),r=O.default.getLocalDatastore(),e.next=4,r._serializeObjectsFromPinName(this._localDatastorePinName);case 4:if(a=e.sent,i=(0,_.default)(n=(0,g.default)(a).call(a,(function(e,t,n){var r=A.default.fromJSON(e,!1);return e._localId&&!e.objectId&&(r._localId=e._localId),x.default.matchesQuery(m.className,r,n,m)?r:null}))).call(n,(function(e){return null!==e})),(0,y.default)(t)&&(u=(0,y.default)(t).split(","),s=["className","objectId","createdAt","updatedAt","ACL"],u=(0,v.default)(u).call(u,s),i=(0,g.default)(i).call(i,(function(e){var t,n=e._toFullJSON();return(0,T.default)(t=(0,C.default)(n)).call(t,(function(e){(0,h.default)(u).call(u,e)||delete n[e]})),A.default.fromJSON(n,!1)}))),t.order&&(l=t.order.split(","),(0,c.default)(i).call(i,(function(e,t){return M(e,t,l)}))),t.count&&(o=i.length),t.skip&&(i=t.skip>=i.length?[]:(0,f.default)(i).call(i,t.skip,i.length)),p=i.length,0!==t.limit&&t.limit<i.length&&(p=t.limit),i=(0,f.default)(i).call(i,0,p),"number"!==typeof o){e.next=15;break}return e.abrupt("return",{results:i,count:o});case 15:return e.abrupt("return",i);case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){var e={where:this._where};for(var t in this._include.length&&(e.include=this._include.join(",")),this._exclude.length&&(e.excludeKeys=this._exclude.join(",")),this._select&&(e.keys=this._select.join(",")),this._count&&(e.count=1),this._limit>=0&&(e.limit=this._limit),this._skip>0&&(e.skip=this._skip),this._order&&(e.order=this._order.join(",")),this._readPreference&&(e.readPreference=this._readPreference),this._includeReadPreference&&(e.includeReadPreference=this._includeReadPreference),this._subqueryReadPreference&&(e.subqueryReadPreference=this._subqueryReadPreference),this._extraOptions)e[t]=this._extraOptions[t];return e}},{key:"withJSON",value:function(e){for(var t in e.where&&(this._where=e.where),e.include&&(this._include=e.include.split(",")),(0,y.default)(e)&&(this._select=(0,y.default)(e).split(",")),e.excludeKeys&&(this._exclude=e.excludeKeys.split(",")),e.count&&(this._count=1===e.count),e.limit&&(this._limit=e.limit),e.skip&&(this._skip=e.skip),e.order&&(this._order=e.order.split(",")),e.readPreference&&(this._readPreference=e.readPreference),e.includeReadPreference&&(this._includeReadPreference=e.includeReadPreference),e.subqueryReadPreference&&(this._subqueryReadPreference=e.subqueryReadPreference),e){var n;if(e.hasOwnProperty(t))-1===(0,N.default)(n=["where","include","keys","count","limit","skip","order","readPreference","includeReadPreference","subqueryReadPreference"]).call(n,t)&&(this._extraOptions[t]=e[t])}return this}},{key:"get",value:function(e,t){this.equalTo("objectId",e);var n={};return t&&t.hasOwnProperty("useMasterKey")&&(n.useMasterKey=t.useMasterKey),t&&t.hasOwnProperty("sessionToken")&&(n.sessionToken=t.sessionToken),this.first(n).then((function(e){if(e)return e;var t=new S.default(S.default.OBJECT_NOT_FOUND,"Object not found.");return o.default.reject(t)}))}},{key:"find",value:function(e){var t=this;e=e||{};var n={};e.hasOwnProperty("useMasterKey")&&(n.useMasterKey=e.useMasterKey),e.hasOwnProperty("sessionToken")&&(n.sessionToken=e.sessionToken),this._setRequestTask(n);var r=O.default.getQueryController(),a=this._select;return this._queriesLocalDatastore?this._handleOfflineQuery(this.toJSON()):(0,l.default)(r).call(r,this.className,this.toJSON(),n).then((function(e){var n,r=(0,g.default)(n=e.results).call(n,(function(n){var r=e.className||t.className;return n.className||(n.className=r),a&&j(n,a),A.default.fromJSON(n,!a)})),i=e.count;return"number"===typeof i?{results:r,count:i}:r}))}},{key:"count",value:function(e){e=e||{};var t={};e.hasOwnProperty("useMasterKey")&&(t.useMasterKey=e.useMasterKey),e.hasOwnProperty("sessionToken")&&(t.sessionToken=e.sessionToken),this._setRequestTask(t);var n=O.default.getQueryController(),r=this.toJSON();return r.limit=0,r.count=1,(0,l.default)(n).call(n,this.className,r,t).then((function(e){return e.count}))}},{key:"distinct",value:function(e,t){t=t||{};var n={useMasterKey:!0};t.hasOwnProperty("sessionToken")&&(n.sessionToken=t.sessionToken),this._setRequestTask(n);var r=O.default.getQueryController(),a={distinct:e,where:this._where};return r.aggregate(this.className,a,n).then((function(e){return e.results}))}},{key:"aggregate",value:function(e,t){t=t||{};var n={useMasterKey:!0};t.hasOwnProperty("sessionToken")&&(n.sessionToken=t.sessionToken),this._setRequestTask(n);var r=O.default.getQueryController();if(!(0,s.default)(e)&&"object"!==(0,u.default)(e))throw new Error("Invalid pipeline must be Array or Object");return r.aggregate(this.className,{pipeline:e},n).then((function(e){return e.results}))}},{key:"first",value:function(e){var t=this;e=e||{};var n={};e.hasOwnProperty("useMasterKey")&&(n.useMasterKey=e.useMasterKey),e.hasOwnProperty("sessionToken")&&(n.sessionToken=e.sessionToken),this._setRequestTask(n);var r=O.default.getQueryController(),a=this.toJSON();a.limit=1;var i=this._select;return this._queriesLocalDatastore?this._handleOfflineQuery(a).then((function(e){if(e[0])return e[0]})):(0,l.default)(r).call(r,this.className,a,n).then((function(e){var n=e.results;if(n[0])return n[0].className||(n[0].className=t.className),i&&j(n[0],i),A.default.fromJSON(n[0],!i)}))}},{key:"each",value:function(t,n){var r;if(n=n||{},this._order||this._skip||this._limit>=0)return o.default.reject("Cannot iterate on a query with sort, skip, or limit.");var a,i=new e(this.className);(i._limit=n.batchSize||100,i._include=(0,g.default)(r=this._include).call(r,(function(e){return e})),this._select)&&(i._select=(0,g.default)(a=this._select).call(a,(function(e){return e})));for(var d in i._where={},this._where){var f=this._where[d];if((0,s.default)(f))i._where[d]=(0,g.default)(f).call(f,(function(e){return e}));else if(f&&"object"===(0,u.default)(f)){var c={};for(var h in i._where[d]=c,f)c[h]=f[h]}else i._where[d]=f}i.ascending("objectId");var v={};n.hasOwnProperty("useMasterKey")&&(v.useMasterKey=n.useMasterKey),n.hasOwnProperty("sessionToken")&&(v.sessionToken=n.sessionToken);var y=!1;return(0,R.continueWhile)((function(){return!y}),(function(){return(0,l.default)(i).call(i,v).then((function(e){var n=o.default.resolve();return(0,T.default)(e).call(e,(function(e){n=n.then((function(){return t(e)}))})),n.then((function(){e.length>=i._limit?i.greaterThan("objectId",e[e.length-1].id):y=!0}))}))}))}},{key:"map",value:function(){var e=(0,p.default)(d.default.mark((function e(t,n){var r,a,i=this;return d.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=[],a=0,e.next=4,this.each((function(e){r.push(t(e,a,i)),a+=1}),n);case 4:return e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"reduce",value:function(){var e=(0,p.default)(d.default.mark((function e(t,n,r){var a;return d.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=[],e.next=3,this.each((function(e){a.push(e)}),r);case 3:return e.abrupt("return",(0,i.default)(a).call(a,t,n));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"filter",value:function(){var e=(0,p.default)(d.default.mark((function e(t,n){var r,a,i=this;return d.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=[],a=0,e.next=4,this.each((function(e){var n=t(e,a,i);n&&r.push(e),a+=1}),n);case 4:return e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"equalTo",value:function(e,t){return"undefined"===typeof t?this.doesNotExist(e):(this._where[e]=(0,E.default)(t,!1,!0),this)}},{key:"notEqualTo",value:function(e,t){return this._addCondition(e,"$ne",t)}},{key:"lessThan",value:function(e,t){return this._addCondition(e,"$lt",t)}},{key:"greaterThan",value:function(e,t){return this._addCondition(e,"$gt",t)}},{key:"lessThanOrEqualTo",value:function(e,t){return this._addCondition(e,"$lte",t)}},{key:"greaterThanOrEqualTo",value:function(e,t){return this._addCondition(e,"$gte",t)}},{key:"containedIn",value:function(e,t){return this._addCondition(e,"$in",t)}},{key:"notContainedIn",value:function(e,t){return this._addCondition(e,"$nin",t)}},{key:"containedBy",value:function(e,t){return this._addCondition(e,"$containedBy",t)}},{key:"containsAll",value:function(e,t){return this._addCondition(e,"$all",t)}},{key:"containsAllStartingWith",value:function(e,t){var n=this;(0,s.default)(t)||(t=[t]);var r=(0,g.default)(t).call(t,(function(e){return{$regex:n._regexStartWith(e)}}));return this.containsAll(e,r)}},{key:"exists",value:function(e){return this._addCondition(e,"$exists",!0)}},{key:"doesNotExist",value:function(e){return this._addCondition(e,"$exists",!1)}},{key:"matches",value:function(e,t,n){return this._addCondition(e,"$regex",t),n||(n=""),t.ignoreCase&&(n+="i"),t.multiline&&(n+="m"),n.length&&this._addCondition(e,"$options",n),this}},{key:"matchesQuery",value:function(e,t){var n=t.toJSON();return n.className=t.className,this._addCondition(e,"$inQuery",n)}},{key:"doesNotMatchQuery",value:function(e,t){var n=t.toJSON();return n.className=t.className,this._addCondition(e,"$notInQuery",n)}},{key:"matchesKeyInQuery",value:function(e,t,n){var r=n.toJSON();return r.className=n.className,this._addCondition(e,"$select",{key:t,query:r})}},{key:"doesNotMatchKeyInQuery",value:function(e,t,n){var r=n.toJSON();return r.className=n.className,this._addCondition(e,"$dontSelect",{key:t,query:r})}},{key:"contains",value:function(e,t){if("string"!==typeof t)throw new Error("The value being searched for must be a string.");return this._addCondition(e,"$regex",q(t))}},{key:"fullText",value:function(e,t,n){if(n=n||{},!e)throw new Error("A key is required.");if(!t)throw new Error("A search term is required");if("string"!==typeof t)throw new Error("The value being searched for must be a string.");var r={};for(var a in r.$term=t,n)switch(a){case"language":r.$language=n[a];break;case"caseSensitive":r.$caseSensitive=n[a];break;case"diacriticSensitive":r.$diacriticSensitive=n[a];break;default:throw new Error("Unknown option: ".concat(a))}return this._addCondition(e,"$text",{$search:r})}},{key:"sortByTextScore",value:function(){return this.ascending("$score"),this.select(["$score"]),this}},{key:"startsWith",value:function(e,t){if("string"!==typeof t)throw new Error("The value being searched for must be a string.");return this._addCondition(e,"$regex",this._regexStartWith(t))}},{key:"endsWith",value:function(e,t){if("string"!==typeof t)throw new Error("The value being searched for must be a string.");return this._addCondition(e,"$regex",q(t)+"$")}},{key:"near",value:function(e,t){return t instanceof P.default||(t=new P.default(t)),this._addCondition(e,"$nearSphere",t)}},{key:"withinRadians",value:function(e,t,n,r){return r||void 0===r?(this.near(e,t),this._addCondition(e,"$maxDistance",n)):this._addCondition(e,"$geoWithin",{$centerSphere:[[t.longitude,t.latitude],n]})}},{key:"withinMiles",value:function(e,t,n,r){return this.withinRadians(e,t,n/3958.8,r)}},{key:"withinKilometers",value:function(e,t,n,r){return this.withinRadians(e,t,n/6371,r)}},{key:"withinGeoBox",value:function(e,t,n){return t instanceof P.default||(t=new P.default(t)),n instanceof P.default||(n=new P.default(n)),this._addCondition(e,"$within",{$box:[t,n]}),this}},{key:"withinPolygon",value:function(e,t){return this._addCondition(e,"$geoWithin",{$polygon:t})}},{key:"polygonContains",value:function(e,t){return this._addCondition(e,"$geoIntersects",{$point:t})}},{key:"ascending",value:function(){this._order=[];for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.addAscending.apply(this,t)}},{key:"addAscending",value:function(){var e=this;this._order||(this._order=[]);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(0,T.default)(n).call(n,(function(t){var n;(0,s.default)(t)&&(t=t.join()),e._order=(0,v.default)(n=e._order).call(n,t.replace(/\s/g,"").split(","))})),this}},{key:"descending",value:function(){this._order=[];for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.addDescending.apply(this,t)}},{key:"addDescending",value:function(){var e=this;this._order||(this._order=[]);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(0,T.default)(n).call(n,(function(t){var n,r;(0,s.default)(t)&&(t=t.join()),e._order=(0,v.default)(n=e._order).call(n,(0,g.default)(r=t.replace(/\s/g,"").split(",")).call(r,(function(e){return"-"+e})))})),this}},{key:"skip",value:function(e){if("number"!==typeof e||e<0)throw new Error("You can only skip by a positive number");return this._skip=e,this}},{key:"limit",value:function(e){if("number"!==typeof e)throw new Error("You can only set the limit to a numeric value");return this._limit=e,this}},{key:"withCount",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if("boolean"!==typeof e)throw new Error("You can only set withCount to a boolean value");return this._count=e,this}},{key:"include",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(0,T.default)(n).call(n,(function(t){var n;(0,s.default)(t)?e._include=(0,v.default)(n=e._include).call(n,t):e._include.push(t)})),this}},{key:"includeAll",value:function(){return this.include("*")}},{key:"select",value:function(){var e=this;this._select||(this._select=[]);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(0,T.default)(n).call(n,(function(t){var n;(0,s.default)(t)?e._select=(0,v.default)(n=e._select).call(n,t):e._select.push(t)})),this}},{key:"exclude",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(0,T.default)(n).call(n,(function(t){var n;(0,s.default)(t)?e._exclude=(0,v.default)(n=e._exclude).call(n,t):e._exclude.push(t)})),this}},{key:"readPreference",value:function(e,t,n){return this._readPreference=e,this._includeReadPreference=t,this._subqueryReadPreference=n,this}},{key:"subscribe",value:function(){var e=(0,p.default)(d.default.mark((function e(t){var n,r,a;return d.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,O.default.getUserController().currentUserAsync();case 2:return n=e.sent,t||(t=n?n.getSessionToken():void 0),e.next=6,O.default.getLiveQueryController().getDefaultLiveQueryClient();case 6:return r=e.sent,r.shouldOpen()&&r.open(),a=r.subscribe(this,t),e.abrupt("return",a.subscribePromise.then((function(){return a})));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fromNetwork",value:function(){return this._queriesLocalDatastore=!1,this._localDatastorePinName=null,this}},{key:"fromLocalDatastore",value:function(){return this.fromPinWithName(null)}},{key:"fromPin",value:function(){return this.fromPinWithName(U.DEFAULT_PIN)}},{key:"fromPinWithName",value:function(e){var t=O.default.getLocalDatastore();return t.checkIfEnabled()&&(this._queriesLocalDatastore=!0,this._localDatastorePinName=e),this}},{key:"cancel",value:function(){var e=this;return this._xhrRequest.task&&"function"===typeof this._xhrRequest.task.abort?(this._xhrRequest.task._aborted=!0,this._xhrRequest.task.abort(),this._xhrRequest.task=null,this._xhrRequest.onchange=function(){},this):this._xhrRequest.onchange=function(){return e.cancel()}}},{key:"_setRequestTask",value:function(e){var t=this;e.requestTask=function(e){t._xhrRequest.task=e,t._xhrRequest.onchange()}}}],[{key:"fromJSON",value:function(t,n){var r=new e(t);return r.withJSON(n)}},{key:"or",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=I(n),i=new e(a);return i._orQuery(n),i}},{key:"and",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=I(n),i=new e(a);return i._andQuery(n),i}},{key:"nor",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=I(n),i=new e(a);return i._norQuery(n),i}}]),e}(),$={find:function(e,t,n){var r=O.default.getRESTController();return r.request("GET","classes/"+e,t,n)},aggregate:function(e,t,n){var r=O.default.getRESTController();return r.request("GET","aggregate/"+e,t,n)}};O.default.setQueryController($);var J=K;t.default=J},f20c:function(e,t,n){"use strict";var r=n("1bd5"),a=n("2d80");a(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("d3a3")),u=r(n("900e")),s=r(n("dd25")),l=r(n("7989")),o=r(n("3bc0")),d=r(n("5f9f")),f=r(n("8704")),c=r(n("d2d1")),h=r(n("c70b")),v=function(e){function t(e,n){var r;return(0,i.default)(this,t),r=(0,s.default)(this,(0,l.default)(t).call(this,"_Role")),"string"===typeof e&&n instanceof f.default&&(r.setName(e),r.setACL(n)),r}return(0,d.default)(t,e),(0,u.default)(t,[{key:"getName",value:function(){var e=this.get("name");return null==e||"string"===typeof e?e:""}},{key:"setName",value:function(e,t){return this.set("name",e,t)}},{key:"getUsers",value:function(){return this.relation("users")}},{key:"getRoles",value:function(){return this.relation("roles")}},{key:"validate",value:function(e,n){var r=(0,o.default)((0,l.default)(t.prototype),"validate",this).call(this,e,n);if(r)return r;if("name"in e&&e.name!==this.getName()){var a=e.name;if(this.id&&this.id!==e.objectId)return new c.default(c.default.OTHER_CAUSE,"A role's name can only be set before it has been saved.");if("string"!==typeof a)return new c.default(c.default.OTHER_CAUSE,"A role's name must be a String.");if(!/^[0-9a-zA-Z\-_ ]+$/.test(a))return new c.default(c.default.OTHER_CAUSE,"A role's name can be only contain alphanumeric characters, _, -, and spaces.")}return!1}}]),t}(h.default);h.default.registerSubclass("_Role",v);var y=v;t.default=y},f47a:function(e,t,n){"use strict";var r=n("1bd5"),a=n("2d80");a(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("3818")),u=r(n("9e19")),s=r(n("d3a3")),l=r(n("900e")),o=r(n("dd25")),d=r(n("7989")),f=r(n("5f9f")),c=r(n("5d22")),h=r(n("acfc")),v=r(n("c70b")),y=r(n("012d")),_=function(e){function t(e){var n;if((0,s.default)(this,t),n=(0,o.default)(this,(0,d.default)(t).call(this,"_Session")),e&&"object"===(0,u.default)(e)&&!n.set(e||{}))throw new Error("Can't create an invalid Session");return n}return(0,f.default)(t,e),(0,l.default)(t,[{key:"getSessionToken",value:function(){var e=this.get("sessionToken");return"string"===typeof e?e:""}}],[{key:"readOnlyAttributes",value:function(){return["createdWith","expiresAt","installationId","restricted","sessionToken","user"]}},{key:"current",value:function(e){e=e||{};var t=c.default.getSessionController(),n={};return e.hasOwnProperty("useMasterKey")&&(n.useMasterKey=e.useMasterKey),y.default.currentAsync().then((function(e){return e?(n.sessionToken=e.getSessionToken(),t.getSession(n)):i.default.reject("There is no current user.")}))}},{key:"isCurrentSessionRevocable",value:function(){var e=y.default.current();return!!e&&(0,h.default)(e.getSessionToken()||"")}}]),t}(v.default);v.default.registerSubclass("_Session",_);var p={getSession:function(e){var t=c.default.getRESTController(),n=new _;return t.request("GET","sessions/me",{},e).then((function(e){return n._finishFetch(e),n._setExisted(!0),n}))}};c.default.setSessionController(p);var g=_;t.default=g}}]);
//# sourceMappingURL=chunk-vendors~84537199.ecfb5819.js.map