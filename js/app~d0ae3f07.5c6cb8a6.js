(function(e){function t(t){for(var r,o,u=t[0],c=t[1],i=t[2],l=0,h=[];l<u.length;l++)o=u[l],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&h.push(a[o][0]),a[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);d&&d(t);while(h.length)h.shift()();return s.push.apply(s,i||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],r=!0,o=1;o<n.length;o++){var u=n[o];0!==a[u]&&(r=!1)}r&&(s.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},o={"app~d0ae3f07":0},a={"app~d0ae3f07":0},s=[];function u(e){return c.p+"js/"+({}[e]||e)+"."+{"chunk-0357b31e":"4904892f","chunk-5156c453":"e410264a","chunk-53942fda":"3a8c24f2","chunk-5620acb9":"75b83f6d","chunk-69e9ea88":"a573e8cb","chunk-7547a92a":"f8c53511","chunk-b2438cba":"4106f2cd","chunk-2d2105c2":"fa03d997","chunk-2d22e138":"89591133","chunk-6b4ad094":"69857d5f","chunk-2d0a3591":"4b0dd115","chunk-2d0b20f7":"32020b8a"}[e]+".js"}function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={"chunk-0357b31e":1,"chunk-5156c453":1,"chunk-53942fda":1,"chunk-5620acb9":1,"chunk-7547a92a":1,"chunk-6b4ad094":1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=new Promise((function(t,n){for(var r="css/"+({}[e]||e)+"."+{"chunk-0357b31e":"ce722429","chunk-5156c453":"34bbc46d","chunk-53942fda":"875cbb03","chunk-5620acb9":"03adda07","chunk-69e9ea88":"31d6cfe0","chunk-7547a92a":"480bd61d","chunk-b2438cba":"31d6cfe0","chunk-2d2105c2":"31d6cfe0","chunk-2d22e138":"31d6cfe0","chunk-6b4ad094":"2db4d424","chunk-2d0a3591":"31d6cfe0","chunk-2d0b20f7":"31d6cfe0"}[e]+".css",a=c.p+r,s=document.getElementsByTagName("link"),u=0;u<s.length;u++){var i=s[u],l=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(l===r||l===a))return t()}var h=document.getElementsByTagName("style");for(u=0;u<h.length;u++){i=h[u],l=i.getAttribute("data-href");if(l===r||l===a)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var r=t&&t.target&&t.target.src||a,s=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=r,delete o[e],d.parentNode.removeChild(d),n(s)},d.href=a;var f=document.getElementsByTagName("head")[0];f.appendChild(d)})).then((function(){o[e]=0})));var r=a[e];if(0!==r)if(r)t.push(r[2]);else{var s=new Promise((function(t,n){r=a[e]=[t,n]}));t.push(r[2]=s);var i,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=u(e);var h=new Error;i=function(t){l.onerror=l.onload=null,clearTimeout(d);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;h.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",h.name="ChunkLoadError",h.type=r,h.request=o,n[1](h)}a[e]=void 0}};var d=setTimeout((function(){i({type:"timeout",target:l})}),12e4);l.onerror=l.onload=i,document.head.appendChild(l)}return Promise.all(t)},c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var h=0;h<i.length;h++)t(i[h]);var d=l;s.push([0,"chunk-vendors~a4b64a2d","chunk-vendors~d939e436","chunk-vendors~8256c040","chunk-vendors~987e6011","chunk-vendors~f9ca8911","chunk-vendors~68d50ece","chunk-vendors~9680af67","chunk-vendors~aa54ae6d","chunk-vendors~84537199","chunk-vendors~249f5d73","chunk-vendors~ab51ea92","chunk-vendors~0ba2a866","chunk-vendors~fdc6512a","chunk-vendors~0605657e","chunk-vendors~d2305125"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"3fd0":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n("d81d"),n("a9e3"),n("ac1f"),n("1276");var r=n("d4ec"),o=n("bee2"),a=function(e,t){var n=t+"";return e=Number(String(Number(e)))===e?Number(e):13,n=n.split("").map((function(e){return e.charCodeAt(0)})).map((function(t){return t^e})),n=String.fromCharCode.apply(void 0,n),n},s=99,u=[],c=function(){function e(){Object(r["a"])(this,e)}return Object(o["a"])(e,null,[{key:"saveTemp",value:function(e,t){u[e]=t}},{key:"getTemp",value:function(e){return u[e]}},{key:"removeTemp",value:function(){u.length=0,u=[]}},{key:"saveJSON",value:function(e,t){try{if(e&&t)return localStorage.setItem(e,a(s,JSON.stringify(t))),!0;throw new Error}catch(n){return!1}}},{key:"getJSON",value:function(e){try{var t=a(s,localStorage.getItem(e));return JSON.parse(t)}catch(n){return!1}}},{key:"remove",value:function(e){if(e){if(Array.isArray(e))for(var t in e)localStorage.removeItem(e[t]);else localStorage.removeItem(e);return!0}return!1}},{key:"clear",value:function(){localStorage.clear()}}]),e}()},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r,o=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container",on:{mousemove:function(t){e.hasMoved=!0}}},[n("div",{staticClass:"columns"},[e.hasLogin?n("div",{staticClass:"column col-4 col-sm-12 col-mx-auto mw-300"},[n("Navbar",{attrs:{setLogin:e.setLogin}}),n("router-view")],1):n("div",{staticClass:"column col-4 col-sm-12 col-mx-auto mw-300"},[n("Login",{attrs:{setLogin:e.setLogin}})],1)])])},s=[],u=(n("d3b7"),n("3fd0")),c=function(){return n.e("chunk-53942fda").then(n.bind(null,"e0a0"))},i=function(){return n.e("chunk-b2438cba").then(n.bind(null,"cea4"))},l={name:"app",components:{Login:c,Navbar:i},data:function(){return{hasLogin:!1}},mounted:function(){this.$parsemi.current()&&this.setLogin(!0)},methods:{afterSchedule:function(e){u["a"].saveTemp("schedules",e),this.hasLogin=!0,this.$router.push("/home")},setLogin:function(e){if(e)if(u["a"].getJSON("myRoom")||!this.$parsemi.isPos("Siswa"))if(this.$parsemi.isPos("Siswa")){var t=u["a"].getJSON("myRoom");this.$parsemi.roomSchedule(this.afterSchedule,t.objectId)}else this.$parsemi.schedules(this.afterSchedule);else this.$parsemi.myRoom(this.afterRoom);else this.hasLogin=!1},afterRoom:function(e){e&&(u["a"].saveJSON("myRoom",e),this.$parsemi.roomSchedule(this.afterSchedule,e.objectId))}}},h=l,d=n("2877"),f=Object(d["a"])(h,a,s,!1,null,null,null),m=f.exports,v=function(){return n.e("chunk-5620acb9").then(n.bind(null,"b3d7"))},p=function(){return n.e("chunk-5156c453").then(n.bind(null,"af1e"))},b=function(){return n.e("chunk-0357b31e").then(n.bind(null,"4b66"))},g=function(){return n.e("chunk-69e9ea88").then(n.bind(null,"0556"))},k=function(){return n.e("chunk-7547a92a").then(n.bind(null,"3d2d"))},y=[{path:"/",name:"Dashboard",component:v,isShow:!1},{path:"/home",component:v,name:"Home",isShow:!0},{path:"/presence",component:b,name:"Presensi",isShow:!0},{path:"/schedule",component:p,name:"Jadwal",isShow:!0},{path:"/history",component:g,name:"Log",isShow:!0},{path:"/message",component:k,name:"Message",isShow:!0}],S=n("8c4f"),w=n("9062"),j=n.n(w),T=(n("7db0"),n("a9e3"),n("4d90"),n("bf19"),n("bf48")),O=n.n(T),_={PresenceUsersTotal:function(e,t){return[{match:{dMonth:e,_p_owner:{$in:t}}},{group:{objectId:"$_p_owner",Week:{$sum:"$total.Week"},Total:{$sum:"$total.Total"},Tepat:{$sum:"$total.Tepat"},Lambat:{$sum:"$total.Lambat"},Izin:{$sum:"$total.Izin"},Sakit:{$sum:"$total.Sakit"},Dispen:{$sum:"$total.Dispen"},Alpa:{$sum:"$total.Alpa"}}}]},PresenceUsersTotalWithSchedule:function(e,t){return[{match:{dMonth:e,_p_owner:{$in:t}}},{group:{objectId:"$_p_owner",_p_owner:{$first:"$_p_owner"},Week:{$sum:"$total.Week"},Total:{$sum:"$total.Total"},Tepat:{$sum:"$total.Tepat"},Lambat:{$sum:"$total.Lambat"},Izin:{$sum:"$total.Izin"},Sakit:{$sum:"$total.Sakit"},Dispen:{$sum:"$total.Dispen"},Alpa:{$sum:"$total.Alpa"}}},{lookup:{from:"Schedule",localField:"_p_owner",foreignField:"_p_owner",as:"Jadwal"}},{project:{Jadwal:{$size:"$Jadwal"},objectId:1,Total:1,Week:1,Tepat:1,Lambat:1,Izin:1,Sakit:1,Dispen:1,Alpa:1}}]}};O.a.initialize("pLhf05ljX1GMzdkjSSeT2fX3XFTSJrwZIe7Uzjs9"),O.a.masterKey="ez6Fhh3ac8MzYOn8e2tL9bOnQpboxOfn7svxciZ2",O.a.serverURL="https://sevmi.herokuapp.com/parse";var $={install:function(e){var t={serverTime:function(e){O.a.Cloud.run("serverTime").then(e).catch(this.errorHandler)},toJSON:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(Array.isArray(e)){for(var r=[],o=0;o<e.length;o++)r.push(e[o].toJSON());this.removeLoader(r,t)}else n?e?this.removeLoader(e.toJSON(),t):this.removeLoader(e,t):t(e?e.toJSON():e)},requestHandler:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,i=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:null,h=arguments.length>10&&void 0!==arguments[10]?arguments[10]:null,d=arguments.length>11&&void 0!==arguments[11]?arguments[11]:null;this.loader();var f=new O.a.Query(O.a.Object.extend(t)).select(r).equalTo(u,c).equalTo(i,l).include(o);d&&(f=f.containedIn(d)),h&&(f=f.ascending(h)),f=a?f.first(this.sessionToken()):f.find(this.sessionToken()),s?f.then((function(t){return n.toJSON(t,e)})).catch(this.errorHandler):f.then((function(t){return n.removeLoader(t,e)})).catch(this.errorHandler)},hDow:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;"number"!=typeof e&&(e=Number(e)),e-=1;var t=["Ahd","Sen","Sel","Rab","Kam","Jum","Sab"];return t[e]},hDate:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e=this.local(e);var n=["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"],r=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],o=e.getFullYear(),a=String(e.getHours()).padStart(2,"0")+":"+String(e.getMinutes()).padStart(2,"0");return t?n[e.getDay()]+", "+e.getDate()+" "+r[e.getMonth()]+" "+o:n[e.getDay()]+", "+e.getDate()+" "+r[e.getMonth()]+" "+o+" "+a},errorHandler:function(t){r&&r.hide(),e.prototype.$dialog.alert({title:"Error: "+t.code,body:t.message},{okText:"Ok"}),console.log(t)},removeLoader:function(e,t){r&&r.hide(),t(e)},local:function(e,t){t||(t=7),e||(e=new Date);var n=e.getTime()+6e4*e.getTimezoneOffset();return new Date(n+36e5*t)},today:function(){var e=this.local(),t=e.getDay()+1,n=String(e.getMonth()+1).padStart(2,"0"),r=e.getFullYear()+"-"+n,o=0|e.getDate()/7,a=r+"-"+String(e.getDate()).padStart(2,"0"),s=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],u=s[e.getMonth()]+" "+e.getFullYear();return{dow:t,dMonth:r,weekMonth:o,dDate:a,hMonth:u}},current:function(){return u["a"].getJSON("current")},isPos:function(e){var t=this.current();if(t)for(var n=0;n<t.position.length;n++)if(t.position[n]==e)return!0;return!1},sessionToken:function(){var e=this.current();return{sessionToken:e.sessionToken}},loader:function(){r=e.prototype.$loading.show()},logIn:function(e,t,n){var r=this;this.loader(),O.a.User.logIn(e,t).then((function(e){return r.removeLoader(e,n)})).catch(this.errorHandler)},logOut:function(e){var t=this;this.loader(),O.a.User.logOut(this.sessionToken()).then((function(n){return t.removeLoader(n,e)})).catch(this.errorHandler),u["a"].remove("current"),u["a"].remove("myRoom"),u["a"].removeTemp()},schedules:function(e,t){t||(t=this.current().objectId),"Pointer"!=t.__type&&(t={__type:"Pointer",className:"_User",objectId:t}),this.requestHandler(e,"Schedule",["dow","hourStart","hourEnd","room.name","subject.code","subject.name"],"subject, room",!1,!0,"dow",this.today().dow,"owner",t,"hourStart")},roomSchedule:function(e,t){var n={__type:"Pointer",className:"Room",objectId:t};this.requestHandler(e,"Schedule",["dow","hourStart","hourEnd","subject.code","subject.name","room"],"subject",!1,!0,"dow",this.today().dow,"room",n,"hourStart")},room:function(e,t){this.requestHandler(t,"Room",["name","users","users.name"],"users",!0,!0,"objectId",e)},presence:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.loader();var o=new O.a.Query(O.a.Object.extend("Presence"));n||(n=this.current().objectId),o.equalTo("owner",{__type:"Pointer",className:"_User",objectId:n}),r||(r=this.today().dMonth),o.equalTo("dMonth",r),o.find().then((function(n){return t.removeLoader(n,e)})).catch(this.errorHandler)},presences:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.requestHandler(t,"Presence",["owner","dMonth","total","metaData"],n,!1,r,"dMonth",this.today().dMonth,"schedule",{__type:"Pointer",className:"Schedule",objectId:e})},setPresence:function(e,t){var n=O.a.Object.extend("Presence"),r=new n;r.save(e).then(t).catch(this.errorHandler)},presenceMultiSchedules:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.loader();var a=new O.a.Query(O.a.Object.extend("Presence"));a.equalTo("owner",{__type:"Pointer",className:"_User",objectId:this.current().objectId}),r||(r=this.today().dMonth),a.containedIn("schedule",e),o?a.find().then((function(e){return n.toJSON(e,t)})).catch(this.errorHandler):a.find().then((function(e){return n.removeLoader(e,t)})).catch(this.errorHandler)},getPresences:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;n||(n=this.today().dMonth),r||(r=this.current().objectId),"Pointer"!=r.__type&&(r={__type:"Pointer",className:"_User",objectId:r});var o=["schedule","dMonth","total","schedule.dow","schedule.hourStart","schedule.subject.name","schedule.subject.code","schedule.room.name"];t&&o.push("metaData"),this.requestHandler(e,"Presence",o,"schedule.subject, schedule.room",!1,!0,"dMonth",n,"owner",r)},getAllSchedule:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.loader(),n||(n=this.current().objectId),"Pointer"!=n.__type&&(n={__type:"Pointer",className:"_User",objectId:n});var o=new O.a.Query(O.a.Object.extend("Schedule"));o.equalTo("owner",n),r?(o.select("dow","hourStart","room.name","subject.name"),o.find(this.sessionToken()).then((function(n){return t.toJSON(n,e)})).catch(this.errorHandler)):o.count(this.sessionToken()).then((function(n){return t.removeLoader(n,e)})).catch(this.errorHandler)},subjects:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.loader();var r=new O.a.Query(O.a.Object.extend("Subject"));n&&r.containedIn("objectId",n),r.find().then((function(n){return t.removeLoader(n,e)})).catch(this.errorHandler)},rooms:function(e){this.requestHandler(e,"Room",["name","users"],["users"],!1,!0)},getPresenceUsersTotal:function(e,t,n){var r=this;this.loader();var o=new O.a.Query(O.a.Object.extend("Presence"));o.aggregate(_.PresenceUsersTotal(t,n),{useMasterKey:!0}).then((function(t){return r.removeLoader(t,e)})).catch(this.errorHandler)},getUsers:function(e,t,n){var r=this;this.loader();var o=new O.a.Query(O.a.Object.extend("_User"));o.select("objectId","name"),o.containedIn(t,n),o.find().then((function(t){return r.toJSON(t,e)})).catch(this.errorHandler)},PresenceUsersTotalWithSchedule:function(e,t,n){var r=this;this.loader();var o=new O.a.Query(O.a.Object.extend("Presence"));o.aggregate(_.PresenceUsersTotalWithSchedule(t,n),{useMasterKey:!0}).then((function(t){return r.removeLoader(t,e)})).catch(this.errorHandler)},getToken:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=new O.a.Query(O.a.Object.extend("Tokenize"));o.equalTo("tokenKey",t),r&&o.equalTo("token",r),o.first().then((function(t){return n.toJSON(t,e,!1)})).catch(this.errorHandler)},generateToken:function(e,t){var n=this,r=O.a.Object.extend("Tokenize"),o=new r;o.save(t).then((function(t){return n.toJSON(t,e,!1)})).catch(this.errorHandler)},removeToken:function(e,t){var n=this,r=new O.a.Query(O.a.Object.extend("Tokenize"));r.equalTo("tokenKey",t),r.first().then((function(t){return n.removingToken(t,e)})).catch(this.errorHandler)},removingToken:function(e,t){e?e.destroy().then(t).catch(this.errorHandler):t(e)},myRoom:function(e){var t=this;this.loader();var n=new O.a.Query(O.a.Object.extend("Room"));n.select("name");var r={__type:"Pointer",className:"_User",objectId:this.current().objectId};n.containedIn("users",[r]),n.first().then((function(n){return t.toJSON(n,e)})).catch(this.errorHandler)},subsrcibe:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=new O.a.Query(O.a.Object.extend(t));n&&o.equalTo(n,r),o.subscribe().then(e).catch(this.errorHandler)},unsubscribe:function(){O.a.LiveQuery.close()},messages:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t?this.requestHandler(e,"Message",["message","owner"],null,!1,!0,"messageKey",t):this.requestHandler(e,"Message",["message","owner"],null,!1,!0)},setMessage:function(e,t){var n=O.a.Object.extend("Message"),r=new n;r.save(t).then(e).catch(this.errorHandler)}};e.prototype.$parsemi=t}},I=n("03a5"),L=n.n(I);n("845f"),n("bc12"),n("8966"),n("e40d"),n("c5c5");o["a"].config.productionTip=!1,o["a"].use(S["a"]),o["a"].use(j.a,{color:"#ffffff",backgroundColor:"#000000"}),o["a"].use(L.a),o["a"].use($);var N=new S["a"]({mode:"history",linkActiveClass:"open active",routes:y});new o["a"]({render:function(e){return e(m)},components:{App:m},router:N}).$mount("#app")},"845f":function(e,t,n){}});
//# sourceMappingURL=app~d0ae3f07.5c6cb8a6.js.map